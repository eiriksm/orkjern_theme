(function e$$0(h,p,q){function b(m,ia){if(!p[m]){if(!h[m]){var v="function"==typeof require&&require;if(!ia&&v)return v(m,!0);if(c)return c(m,!0);v=Error("Cannot find module '"+m+"'");throw v.code="MODULE_NOT_FOUND",v;}v=p[m]={exports:{}};h[m][0].call(v.exports,function(c){var f=h[m][1][c];return b(f?f:c)},v,v.exports,e$$0,h,p,q)}return p[m].exports}for(var c="function"==typeof require&&require,m=0;m<q.length;m++)b(q[m]);return b})({1:[function(g,h,p){g=g("./src/app");if(h=document.getElementsByTagName("style")[0])if(p=
g.getLsOrKickOut(window)){var q={};q["{{cache_key}}"]=h.innerHTML;p.setItem("orkjern_theme_cache",JSON.stringify(q));document.cookie="ORKJERN_THEME_CACHE={{ cache_key }}"}g.init(window)},{"./src/app":2}],2:[function(g,h,p){var q=g("mithril"),b=g("./booter"),c=g("./disqus"),m=g("./gist"),w=g("./controllers/node"),ia=g("./controllers/index"),v=g("./controllers/taxonomy");h.exports={appendCss:function(b,f){var c=f.document,m=c.getElementsByTagName("head")[0],w=c.createElement("style");w.type="text/css";
w.styleSheet?w.styleSheet.cssText=b:w.appendChild(c.createTextNode(b));return m.appendChild(w)},getLsOrKickOut:function(b){var f=b.localStorage;if(!f){if(b.navigator&&b.navigator.userAgent&&b.navigator.userAgent.match(/Twitter/))return!1;b.alert("Your browser is bad, and you should feel bad. You are not welcome here. You will be redirected to a place where you can upgrade your browser.");b.location.href="http://browsehappy.com/";return!1}return f},init:function(g){var f={window:g,m:q};g.test&&q.deps(g);
var x=g.document;q.route.mode="pathname";f.controllers={index:new ia(f),node:w,taxonomy:new v(f)};f.booter=new b(f);f.booter.attach();c(f.window);m(f.window);g.disqus_shortname="{{ disqus_shortname }}";if(!g.disqus_shortname||!g.disqus_shortname.length)return f;g.DISQUSWIDGETS=void 0;if(x.querySelectorAll&&0===x.querySelectorAll("a[data-disqus-identifier]").length)for(var h=x.querySelectorAll(".views-field-view-node a"),p=0,N=h.length;p<N;p++){var S=x.createElement("div");S.className="comment-count";
var T=x.createElement("a");T.href=h[p].pathname;T.setAttribute("data-disqus-identifier",h[p].pathname);S.appendChild(T);h[p].parentNode.parentNode.parentNode.insertBefore(S,h[p].parentNode.parentNode.nextSibling)}h=x.createElement("script");h.async=!0;h.type="text/javascript";h.src="//"+g.disqus_shortname+".disqus.com/count.js";(x.getElementsByTagName("HEAD")[0]||x.getElementsByTagName("BODY")[0]).appendChild(h);return f}}},{"./booter":3,"./controllers/index":4,"./controllers/node":5,"./controllers/taxonomy":6,
"./disqus":7,"./gist":8,mithril:12}],3:[function(g,h,p){function q(b){this.app=b;this.window=b.window;var c=b.controllers.index,m=b.controllers.node;b=b.controllers.taxonomy;this.booted=!1;this.routeConf={};this.routeConf["/"]=c;this.routeConf["/node"]=c;this.routeConf["/:alias"]=m;this.routeConf["/node/:nid"]=m;this.routeConf["/taxonomy/term/:tid"]=b;var w=this.app.m;this.m=w;var c=this.window.document,q=this;this.startFunction=function(){var b=this.getAttribute("href");q.navigate(b);return!1};if(c=
c.querySelector(".site-name a"))c.onclick=function(){"/"!==w.route()&&q.navigate("/");return!1}}h.exports=q;q.prototype.attach=function(b){console.log(b);var c=this.window.document;if(c&&c.querySelectorAll){b=c.querySelectorAll(b||"#main-wrapper a");for(var c=0,m=b.length;c<m;c++){var w=!1;0===b[c].href.indexOf(window.location.protocol+"//"+window.location.hostname)&&(w=!0);0===b[c].href.indexOf("/")&&(w=!0);w&&(b[c].onclick=this.startFunction)}}};q.prototype.navigate=function(b){var c=this.window;
!this.booted&&c&&c.document&&(this.m.route(c.document.getElementById("main-wrapper"),b,this.routeConf),this.booted=!0);this.m.route(b)};q.prototype.navigateEl=function(b,c){var m=b.getAttribute("href");c.navigate(m);return!1}},{}],4:[function(g,h,p){p=g("../views/index");var q=g("../http"),b={},c=function(b){var c=b.m;return function(){var g=b.window,h=this;this.nodes=c.prop([]);q("api/node").then(function(c){h.nodes=c;setTimeout(function(){b.booter.attach(".field-type-taxonomy-term-reference a")},
2);var f=b.window.document;g.DISQUSWIDGETS=void 0;g.disqus_shortname&&function(){var b=f.createElement("script");b.async=!0;b.type="text/javascript";b.src="//"+g.disqus_shortname+".disqus.com/count.js";(f.getElementsByTagName("HEAD")[0]||f.getElementsByTagName("BODY")[0]).appendChild(b)}()});this.navigate=function(c){b.booter.navigateEl(c,b.booter)}}};b.view=p;h.exports=function(m){b.app=m;b.controller=new c(m);return b}},{"../http":9,"../views/index":10}],5:[function(g,h,p){var q=g("mithril");p=
g("../views/node");var b=g("../http"),c=g("../gist"),m=g("../disqus");g={controller:function(){var w=this;this.title=q.prop("");this.body=q.prop("Loading...");this.raw=q.prop({});this.tags=q.prop([]);this.image=q.prop("about:blank");w.submitted=q.prop("");var g;this.imageClass=q.prop("noplay");this.toggleImageClass=function(){q.startComputation();w.imageClass("play");g&&w.image(g);q.endComputation()};var h=q.route.param("alias"),p=q.route.param("nid");if(!h){if(!p){q.route("/");return}h="node/"+p}b(h).then(function(f){if(f){var b=
new Date(1E3*f.created[0].value);w.title(f.title[0].value);w.body(f.body[0].value);w.submitted("Submitted "+b.toLocaleDateString());var b=[],q;for(q in f._links)if(!(1>q.indexOf("image")&&1>q.indexOf("tags"))&&f._links.hasOwnProperty(q)&&(0<q.indexOf("image")&&(g=f._links[q][0].href),0<q.indexOf("tags")))for(var h=0,p=f._links[q].length;h<p;h++){var v=f._links[q][h].href,v=v.substring(v.lastIndexOf("/")+1,v.lastIndexOf("?"));orkjernTags[v]&&b.push({tid:v,title:orkjernTags[v]})}b.length&&w.tags(b);
w.raw=f;setTimeout(function(){c(window)},200);window.disqus_shortname="{{ disqus_shortname }}";setTimeout(function(){m(window)},200)}},function(f){404===f&&(w.title("404 not found!"),w.body("The page you are looking for is nowhere to be found. Real sorry about that!"),w.imageClass("hide"));403===f&&(w.title("403 Forbidden!"),w.body("You are not allowed to access this page. I am guessing you already knew that!"))})}};g.view=p;h.exports=g},{"../disqus":7,"../gist":8,"../http":9,"../views/node":11,mithril:12}],
6:[function(g,h,p){p=g("../views/index");var q=g("../http"),b={},c=function(b){var c=b.m;return function(){var g=this;this.nodes=c.prop([]);var h=c.route.param("tid");q("api/taxonomy/term/"+h).then(function(c){c.map(function(b){b.body=""});g.nodes=c;window.disqus_shortname="{{ disqus_shortname }}";setTimeout(function(){b.booter.attach(".field-type-taxonomy-term-reference a")},2);window.disqus_shortname&&window.disqus_shortname.length&&(window.DISQUSWIDGETS=void 0,function(){var b=document.createElement("script");
b.async=!0;b.type="text/javascript";b.src="//"+window.disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(b)}())});this.navigate=function(c){b.booter.navigateEl(c,b.booter)}}};b.view=p;h.exports=function(m){b.controller=new c(m);return b}},{"../http":9,"../views/index":10}],7:[function(g,h,p){var q=g("mithril");h.exports=function(b){var c=b.document;"undefined"===typeof q&&(q=b.m);var m=function(){if(b.disqus_shortname)if(b.disqus_identifier=
q.route(),b.disqus_identifier||(b.disqus_identifier=b.location.pathname),b.disqus_loaded)b.DISQUS.reset({reload:!0,config:function(){this.page.identifier=b.disqus_identifier;this.page.url=b.location.origin+b.disqus_identifier}});else{b.disqus_loaded=!0;var m=c.createElement("script");m.type="text/javascript";m.async=!0;m.src="//"+b.disqus_shortname+".disqus.com/embed.js?url="+b.disqus_identifier;(c.getElementsByTagName("head")[0]||c.getElementsByTagName("body")[0]).appendChild(m)}},g=c.getElementById("disqus_thread"),
h=!1;b.onscroll=function(){g||(g=c.getElementById("disqus_thread"));!h&&b.scrollY&&g&&g.offsetTop&&b.innerHeight&&b.scrollY+b.innerHeight+50>g.offsetTop&&(h=!0,m())}}},{mithril:12}],8:[function(g,h,p){h.exports=function(g){for(var b=g.document,c=function(c,f){var m="gist_callback"+Math.floor(1E3*Math.random()),h=b.createElement("script");h.setAttribute("src","https://gist.github.com/"+f+".json?callback="+m);g[m]=function(b){delete g[m];var f='<link href="'+b.stylesheet+'" rel="stylesheet">',f=f+b.div;
c.innerHTML=f;h.parentNode.removeChild(h);c.className+="processed"};b.body.appendChild(h)},m=b.getElementsByTagName("gist"),h=0,p=m.length;h<p;h++){var v=m[h];v.className&&-1<v.className.indexOf("processed")||c(v,v.innerHTML)}}},{}],9:[function(g,h,p){h.exports=function(b){return q.request({method:"GET",url:"/"+b+"?_format=hal_json",config:function(b){b.setRequestHeader("Accept","application/hal+json")},extract:function(b){return 200===b.status?b.responseText:JSON.stringify(b.status)},deserialize:function(b){var m;
try{m=JSON.parse(b)}catch(g){m=""}return m}})};var q=g("mithril")},{mithril:12}],10:[function(g,h,p){var q=g("mithril");h.exports=function(b){var c=function(c){return{tag:"article",attrs:{class:"node node--view-mode-teaser clearfix",about:"/aa-cc",typeof:"schema:Article"},children:[{tag:"h2",attrs:{class:"node__title "},children:[{tag:"a",attrs:{href:c.path,onclick:function(){b.navigate(this);return!1}},children:[c.title]}]},{tag:"div",attrs:{class:"node__meta"},children:["Post date: ",c.created]},
{tag:"div",attrs:{class:"read-more"},children:[{tag:"a",attrs:{href:c.path,onclick:function(){b.navigate(this);return!1}},children:["Read more"]}]},{tag:"div",attrs:{class:"comment-count"},children:[{tag:"a",attrs:{"data-disqus-identifier":c.path,href:c.path,onclick:function(){b.navigate(this);return!1}}}]},q.trust(c.field_tags)]}};return{tag:"main",attrs:{id:"content",class:"column",role:"main"},children:[{tag:"section",attrs:{class:"section"},children:[{tag:"div",attrs:{class:"content"},children:[{tag:"div",
attrs:{},children:[b.nodes.map?b.nodes.map(c):""]}]}]}]}}},{mithril:12}],11:[function(g,h,p){var q=g("mithril");h.exports=function(b){var c=b.tags().map(function(b){return{tag:"li",attrs:{},children:[{tag:"a",attrs:{href:"/taxonomy/term/"+b.tid,hreflang:"en"},children:[b.title," "]}," "]}});return{tag:"main",attrs:{id:"content",class:"column",role:"main"},children:[{tag:"section",attrs:{class:"section"},children:[{tag:"div",attrs:{class:"content"},children:[{tag:"article",attrs:{class:"node node--view-mode-full clearfix",
about:"/aa-cc",typeof:"schema:Article"},children:[{tag:"h1",attrs:{class:"title",id:"page-title"},children:[b.title()]},{tag:"div",attrs:{class:"node__meta"},children:[b.submitted()]},{tag:"div",attrs:{class:"node__content clearfix "},children:[{tag:"p",attrs:{},children:[q.trust(b.body())]}]},{tag:"div",attrs:{class:b.imageClass()+" image",onclick:b.toggleImageClass},children:[{tag:"img",attrs:{src:b.image()}},{tag:"h2",attrs:{},children:["Play"]}]},{tag:"div",attrs:{class:"clearfix field-type-taxonomy-term-reference"},
children:[{tag:"ul",attrs:{class:"links field-items"},children:[c]}]}]},{tag:"div",attrs:{class:"twitter"},children:["This blog is written by me, ",{tag:"a",attrs:{href:"https://twitter.com/orkj"},children:["eiriksm. Feel free to say hi on twitter."]}]},{tag:"div",attrs:{id:"disqus_thread"}}]}]}]}}},{mithril:12}],12:[function(g,h,p){(function(g,b){var c=b(g);"undefined"===typeof window&&c.deps({document:"undefined"!==typeof document?document:{},location:"undefined"!==typeof location?location:{},clearTimeout:clearTimeout,
setTimeout:setTimeout});"object"===typeof h&&null!=h&&h.exports?h.exports=c:"function"===typeof define&&define.amd?define(function(){return c}):g.m=c})("undefined"!==typeof window?window:this,function b(c,g){function h(a){return"function"===typeof a}function p(a){return"[object Object]"===O.call(a)}function v(a){return"[object String]"===O.call(a)}function I(){}function f(a,d){for(var e=[],G=1,b=arguments.length;G<b;G++)e[G-1]=arguments[G];if(a&&h(a.view))return ua(a,e);if(!v(a))throw Error("selector in m(selector, attrs, children) should be a string");
G=(b=null!=d&&p(d)&&!("tag"in d||"view"in d||"subtree"in d))?d:{};e=b?e.slice(1):e;e=1===e.length&&J(e[0])?e[0]:e;for(var e={tag:"div",attrs:{},children:e},b=e.attrs,k=[],f=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,l;l=f.exec(a);)if(""===l[1]&&l[2])e.tag=l[2];else if("#"===l[1])e.attrs.id=l[2];else if("."===l[1])k.push(l[2]);else if("["===l[3].charAt(0)){var c=l[6];c&&(c=c.replace(/\\(["'])/g,"$1"));"class"===l[4]?k.push(c):e.attrs[l[4]]=c||!0}var f="class"in G?
"class":"className",g;for(g in G)C.call(G,g)&&(g===f&&null!=G[g]&&""!==G[g]?(k.push(G[g]),b[g]=""):b[g]=G[g]);k.length&&(b[f]=k.join(" "));return e}function x(a,d){for(var e=0;e<a.length&&!d(a[e],e++););}function ba(a,d){x(a,function(a,b){return(a=a&&a.attrs)&&null!=a.key&&d(a,b)})}function Ga(a){for(var d=0;d<a.length;d++)J(a[d])&&(a=a.concat.apply([],a),d--);return a}function N(a,d,e){a.insertBefore(d,a.childNodes[e]||null)}function S(a,d,e,b){ba(a,function(a,b){d[a=a.key]=d[a]?{action:3,index:b,
from:d[a].index,element:e.nodes[d[a].index]||y.createElement("div")}:{action:2,index:b}});var n=[],k;for(k in d)C.call(d,k)&&n.push(d[k]);var n=n.sort(Ha),f=Array(e.length);f.nodes=e.nodes.slice();x(n,function(d){var n=d.index;1===d.action&&(K(e[n].nodes,e[n]),f.splice(n,1));if(2===d.action){var k=y.createElement("div");k.key=a[n].attrs.key;N(b,k,n);f.splice(n,0,{attrs:{key:a[n].attrs.key},nodes:[k]});f.nodes[n]=k}if(3===d.action){var k=d.element,c=b.childNodes[n];c!==k&&null!==k&&b.insertBefore(k,
c||null);f[n]=e[d.from];f.nodes[n]=k}});return f}function T(a,d,e,b){var n=a.length!==d.length;n||ba(a,function(a,e){var b=d[e];return n=b&&b.attrs&&b.attrs.key!==a.key});return n?S(a,e,d,b):d}function Ia(a,d,e){x(a,function(a,b){null!=d[b]&&e.push.apply(e,d[b].nodes)});x(d.nodes,function(a,b){null!=a.parentNode&&0>e.indexOf(a)&&K([a],[d[b]])});a.length<d.length&&(d.length=a.length);d.nodes=e}function Ja(a){var d=0;ba(a,function(){x(a,function(a){(a=a&&a.attrs)&&null==a.key&&(a.key="__mithril__"+
d++)});return 1})}function Ka(a,d,e){return a.tag!==d.tag||e.sort().join()!==Object.keys(d.attrs).sort().join()||a.attrs.id!==d.attrs.id||a.attrs.key!==d.attrs.key?!0:"all"===f.redraw.strategy()?!d.configContext||!0!==d.configContext.retain:"diff"===f.redraw.strategy()?d.configContext&&!1===d.configContext.retain:!1}function La(a,d,e){if(Ka(a,d,e)){d.nodes.length&&K(d.nodes);if(d.configContext&&h(d.configContext.onunload))d.configContext.onunload();d.controllers&&x(d.controllers,function(a){if(a.onunload)a.onunload({preventDefault:I})})}}
function Ma(a,d,e){e.length&&(a.views=d,a.controllers=e,x(e,function(a){a.onunload&&a.onunload.$old&&(a.onunload=a.onunload.$old);if(L&&a.onunload){var d=a.onunload;a.onunload=function(){};a.onunload.$old=d}}))}function Na(a,d,e,b,n){if(h(d.attrs.config)){var k=n.configContext=n.configContext||{};a.push(function(){return d.attrs.config.call(d,e,!b,k,n)})}}function Oa(a){return a.$trusted?a.nodes.length:J(a)?a.length:1}function Pa(a,d,e,b,n,k,f,c,h){a=Ga(a);var A=[],t=d.length===a.length,p=0,r={},
z=!1;ba(d,function(a,e){z=!0;r[d[e].attrs.key]={action:1,index:e}});Ja(a);z&&(d=T(a,d,r,e));for(var v=0,w=0,x=a.length;w<x;w++){var y=ca(e,n,d,b,a[w],d[v],k,b+p||p,f,c,h);y!==g&&(t=t&&y.nodes.intact,p+=Oa(y),d[v++]=y)}t||Ia(a,d,A);return d}function Qa(a,d,e,b){null!=b.onunload&&0>H.map(function(a){return a.handler}).indexOf(b.onunload)&&H.push({controller:b,handler:b.onunload});a.push(e);d.push(b)}function ca(a,d,e,b,n,k,c,l,u,A,t){a:{try{if("boolean"!==typeof n&&null!=n&&null!=n.toString())break a}catch(x){}n=
""}if("retain"===n.subtree)return k;a:{var E=n;if(null!=k){if(O.call(k)===O.call(E))break a;e&&e.nodes?(b=l-b,k=b+(J(E)?E:k.nodes).length,K(e.nodes.slice(b,k),e.slice(b,k))):k.nodes&&K(k.nodes,k)}k=new E.constructor;k.tag&&(k={});k.nodes=[]}if(J(n))return Pa(n,k,a,l,d,c,u,A,t);if(null!=n&&p(n)){E=k;d=A;A=[];e=[];var r=n;for(b=(n=E)&&n.controllers;null!=r.view;){k=r;var r=r.view.$original||r.view,z=b,B=e,C=A,D;D=n.views;var F=r,M=z,I=k.controller,H=void 0,H="diff"===f.redraw.strategy()&&D?D.indexOf(F):
-1;D=-1<H?M[H]:h(I)?new I:{};F=k&&k.attrs&&k.attrs.key;k=0===L||ja||z&&-1<z.indexOf(D)?k.view(D):{tag:"placeholder"};"retain"!==k.subtree&&(k.attrs=k.attrs||{},k.attrs.key=F,Qa(C,B,r,D));r=k}n=r;if("retain"===n.subtree)a=E;else{if(!n.tag&&e.length)throw Error("Component template must return a virtual element, not an array, string, etc.");n.attrs=n.attrs||{};E.attrs=E.attrs||{};b=Object.keys(n.attrs);k=b.length>("key"in n.attrs?1:0);La(n,E,b);v(n.tag)?(b=0===E.nodes.length,d=n.attrs.xmlns?n.attrs.xmlns:
"svg"===n.tag?"http://www.w3.org/2000/svg":"math"===n.tag?"http://www.w3.org/1998/Math/MathML":d,b?(r=n,z=d,r=r.attrs.is?null==z?y.createElement(r.tag,r.attrs.is):y.createElementNS(z,r.tag,r.attrs.is):null==z?y.createElement(r.tag):y.createElementNS(z,r.tag),z=n,k=k?ka(r,z.tag,z.attrs,{},d):z.attrs,N(a,r,l),z=n,u=null!=z.children&&0<z.children.length?ca(r,z.tag,g,g,z.children,E.children,!0,0,z.attrs.contenteditable?r:u,d,t):z.children,u={tag:n.tag,attrs:k,children:u,nodes:[r]},Ma(u,A,e),u.children&&
!u.children.nodes&&(u.children.nodes=[]),E=u):(r=E,z=n,B=d,C=r.nodes[0],k&&ka(C,z.tag,z.attrs,r.attrs,B),r.children=ca(C,z.tag,g,g,z.children,r.children,!1,0,z.attrs.contenteditable?C:u,B,t),r.nodes.intact=!0,e.length&&(r.views=A,r.controllers=e),r=C),"select"===n.tag&&"value"in n.attrs&&ka(r,n.tag,{value:n.attrs.value},{},d),b||!0!==c||null==r||N(a,r,l),Na(t,n,r,b,E),a=E):a=void 0}return a}if(h(n))return k;A=k;t=n;if(A.nodes.length)if(A.valueOf()!==t.valueOf()||c){c=A.nodes;if(!u||u!==y.activeElement||
t!==A)if(t.$trusted)K(c,A),c=va(a,l,t);else if("textarea"===d)a.value=t;else if(u)u.innerHTML=t,c=[].slice.call(u.childNodes);else{if(1===c[0].nodeType||1<c.length||c[0].nodeValue.trim&&!c[0].nodeValue.trim())K(A.nodes,A),c=[y.createTextNode(t)];u=c[0];try{N(a,u,l),u.nodeValue=t}catch(x){}}A=new t.constructor(t);A.nodes=c;A.$trusted=t.$trusted;a=A}else a=(A.nodes.intact=!0,A);else t.$trusted?c=va(a,l,t):(c=[y.createTextNode(t)],a.nodeName in Ra||N(a,c[0],l)),a="string"===typeof t||"number"===typeof t||
"boolean"===typeof t?new t.constructor(t):t,a.nodes=c;return a}function Ha(a,d){return a.action-d.action||a.index-d.index}function ka(a,d,e,b,c){for(var f in e)if(C.call(e,f)){var g=a,l=f,u=e[f],A=b[f],t=d,m=c;if(l in b&&A===u&&"object"!==typeof u&&y.activeElement!==g)"value"===l&&"input"===t&&g.value!=u&&(g.value=u);else{b[l]=u;try{if("config"!==l&&"key"!==l)if(h(u)&&"on"===l.slice(0,2))g[l]=Sa(u,g);else if("style"===l&&null!=u&&p(u)){m=g;g=u;t=A;t===g&&(m.style="",t={});l=void 0;for(l in g)!C.call(g,
l)||null!=t&&t[l]===g[l]||(m.style[l]=g[l]);for(l in t)C.call(t,l)&&(C.call(g,l)||(m.style[l]=""))}else if(null!=m)"href"===l?g.setAttributeNS("http://www.w3.org/1999/xlink","href",u):g.setAttribute("className"===l?"class":l,u);else if(l in g&&!Ta[l])try{if("input"!==t&&!g.isContentEditable||g[l]!=u)g[l]=u}catch(r){g.setAttribute(l,u)}else try{g.setAttribute(l,u)}catch(r){}}catch(r){if(0>r.message.indexOf("Invalid argument"))throw r;}}}return b}function K(a,d){for(var e=a.length-1;-1<e;e--)if(a[e]&&
a[e].parentNode){try{a[e].parentNode.removeChild(a[e])}catch(b){}d=[].concat(d);d[e]&&la(d[e])}a.length&&(a.length=0)}function la(a){a.configContext&&h(a.configContext.onunload)&&(a.configContext.onunload(),a.configContext.onunload=null);a.controllers&&x(a.controllers,function(a){if(h(a.onunload))a.onunload({preventDefault:I})});a.children&&(J(a.children)?x(a.children,la):a.children.tag&&la(a.children))}function wa(a){if("SCRIPT"===a.tagName)a.parentNode.replaceChild(Ua(a),a);else{var d=a.childNodes;
if(d&&d.length)for(var e=0;e<d.length;e++)wa(d[e])}return a}function Ua(a){for(var d=document.createElement("script"),e=a.attributes,b=0;b<e.length;b++)d.setAttribute(e[b].name,e[b].value);d.text=a.innerHTML;return d}function va(a,d,e){var b=a.childNodes[d];if(b){var f=1!==b.nodeType,c=y.createElement("span");f?(a.insertBefore(c,b||null),c.insertAdjacentHTML("beforebegin",e),a.removeChild(c)):b.insertAdjacentHTML("beforebegin",e)}else try{a.appendChild(y.createRange().createContextualFragment(e))}catch(g){a.insertAdjacentHTML("beforeend",
e),wa(a)}for(e=[];a.childNodes[d]!==b;)e.push(a.childNodes[d]),d++;return e}function Sa(a,d){return function(b){b=b||event;f.redraw.strategy("diff");f.startComputation();try{return a.call(d,b)}finally{xa()}}}function ma(a){var d=na.indexOf(a);return 0>d?na.push(a)-1:d}function Va(a){function d(){arguments.length&&(a=arguments[0]);return a}d.toJSON=function(){return a&&h(a.toJSON)?a.toJSON():a};return d}function ua(a,d){function b(){return(a.controller||I).apply(this,d)||this}function c(b){for(var e=
[b].concat(d),f=1;f<arguments.length;f++)e.push(arguments[f]);return a.view.apply(a,e)}a.controller&&(b.prototype=a.controller.prototype);c.$original=a.view;var f={controller:b,view:c};d[0]&&null!=d[0].key&&(f.attrs={key:d[0].key});return f}function Wa(a,d,b,c){if(c)null==a&&ya(d,b),U&&(B=U);else{f.redraw.strategy("all");f.startComputation();V[b]=d;c=a?oa=a:oa=a={controller:I};var g=new (a.controller||I);c===oa&&(D[b]=g,pa[b]=a);xa();null===a&&ya(d,b);return D[b]}}function ya(a,d){V.splice(d,1);D.splice(d,
1);pa.splice(d,1);za(a);na.splice(ma(a),1);H=[]}function Aa(){P&&(P(),P=null);x(V,function(a,d){var b=pa[d];if(D[d]){var c=[D[d]];f.render(a,b.view?b.view(D[d],c):"")}});W&&(W(),W=null);M=null;Ba=new Date;f.redraw.strategy("diff")}function xa(){"none"===f.redraw.strategy()?(L--,f.redraw.strategy("diff")):f.endComputation()}function Xa(a,d,b){Q={};var c=b.indexOf("?");-1!==c&&(Q=da(b.substr(c+1,b.length)),b=b.substr(0,c));var c=Object.keys(d),g=c.indexOf(b);if(-1!==g)return f.mount(a,d[c[g]]),!0;for(var k in d)if(C.call(d,
k)){if(k===b)return f.mount(a,d[k]),!0;c=new RegExp("^"+k.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(c.test(b))return b.replace(c,function(){var b=k.match(/:[^\/]+/g)||[],e=[].slice.call(arguments,1,-2);x(b,function(a,b){Q[a.replace(/:|\./g,"")]=decodeURIComponent(e[b])});f.mount(a,d[k])}),!0}}function ea(a){a=a||event;if(!(a.ctrlKey||a.metaKey||a.shiftKey||2===a.which)){a.preventDefault?a.preventDefault():a.returnValue=!1;a=a.currentTarget||a.srcElement;var b;for(b=
"pathname"===f.route.mode&&a.search?da(a.search.slice(1)):{};a&&!/a/i.test(a.nodeName);)a=a.parentNode;L=0;f.route(a[f.route.mode].slice(R[f.route.mode].length),b)}}function Ca(){"hash"!==f.route.mode&&F.hash?F.hash=F.hash:c.scrollTo(0,0)}function X(a,b){var e={},c=[],f;for(f in a)if(C.call(a,f)){var k=b?b+"["+f+"]":f,h=a[f];if(null===h)c.push(encodeURIComponent(k));else if(p(h))c.push(X(h,k));else if(J(h)){var l=[];e[k]=e[k]||{};x(h,function(a){e[k][a]||(e[k][a]=!0,l.push(encodeURIComponent(k)+"="+
encodeURIComponent(a)))});c.push(l.join("&"))}else h!==g&&c.push(encodeURIComponent(k)+"="+encodeURIComponent(h))}return c.join("&")}function da(a){if(""===a||null==a)return{};"?"===a.charAt(0)&&(a=a.slice(1));a=a.split("&");var b={};x(a,function(a){var c=a.split("=");a=decodeURIComponent(c[0]);c=2===c.length?decodeURIComponent(c[1]):null;null!=b[a]?(J(b[a])||(b[a]=[b[a]]),b[a].push(c)):b[a]=c});return b}function za(a){var b=ma(a);K(a.childNodes,Y[b]);Y[b]=g}function fa(a,b){var e=f.prop(b);a.then(e);
e.then=function(e,c){return fa(a.then(e,c),b)};e["catch"]=e.then.bind(null,null);return e}function qa(a,b){function e(a){m=a||Da;u.map(function(a){m===ga?a.resolve(l):a.reject(l)})}function c(a,b,d,e){if((null!=l&&p(l)||h(l))&&h(a))try{var g=0;a.call(l,function(a){g++||(l=a,b())},function(a){g++||(l=a,d())})}catch(k){f.deferred.onerror(k),l=k,d()}else e()}function g(){var p;try{p=l&&l.then}catch(t){return f.deferred.onerror(t),l=t,m=Z,g()}if(m===Z)f.deferred.onerror(l);c(p,function(){m=aa;g()},function(){m=
Z;g()},function(){try{m===aa&&h(a)?l=a(l):m===Z&&h(b)&&(l=b(l),m=aa)}catch(g){return f.deferred.onerror(g),l=g,e()}l===k?(l=TypeError(),e()):c(p,function(){e(ga)},e,function(){e(m===aa&&ga)})})}var k=this,m=0,l=0,u=[];k.promise={};k.resolve=function(a){m||(l=a,m=aa,g());return k};k.reject=function(a){m||(l=a,m=Z,g());return k};k.promise.then=function(a,b){var d=new qa(a,b);m===ga?d.resolve(l):m===Da?d.reject(l):u.push(d);return d.promise}}function Ya(a){return a}function Za(a){var b=a.callbackName||
"mithril_callback_"+(new Date).getTime()+"_"+Math.round(1E16*Math.random()).toString(36),e=y.createElement("script");c[b]=function(f){e.parentNode.removeChild(e);a.onload({type:"load",target:{responseText:f}});c[b]=g};e.onerror=function(){e.parentNode.removeChild(e);a.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}});c[b]=g;return!1};e.onload=function(){return!1};e.src=a.url+(0<a.url.indexOf("?")?"&":"?")+(a.callbackKey?a.callbackKey:"callback")+
"="+b+"&"+X(a.data||{});y.body.appendChild(e)}function $a(a){var b=new c.XMLHttpRequest;b.open(a.method,a.url,!0,a.user,a.password);b.onreadystatechange=function(){if(4===b.readyState)if(200<=b.status&&300>b.status)a.onload({type:"load",target:b});else a.onerror({type:"error",target:b})};a.serialize===JSON.stringify&&a.data&&"GET"!==a.method&&b.setRequestHeader("Content-Type","application/json; charset=utf-8");a.deserialize===JSON.parse&&b.setRequestHeader("Accept","application/json, text/*");if(p(a.headers))for(var e in a.headers)C.call(a.headers,
e)&&b.setRequestHeader(e,a.headers[e]);h(a.config)&&(e=a.config(b,a),null!=e&&(b=e));if((e="GET"!==a.method&&a.data?a.data:"")&&!v(e)&&e.constructor!==c.FormData)throw Error("Request data should be either be a string or FormData. Check the `serialize` option in `m.request`");b.send(e);return b}function ab(a){return a.dataType&&"jsonp"===a.dataType.toLowerCase()?Za(a):$a(a)}function bb(a,b,e){"GET"===a.method&&"jsonp"!==a.dataType?(e=0>a.url.indexOf("?")?"?":"&",b=X(b),a.url+=b?e+b:""):a.data=e(b)}
function cb(a,b){b&&(a=a.replace(/:[a-z]\w+/gi,function(a){var c=a.slice(1);a=b[c]||a;delete b[c];return a}));return a}f.version=function(){return"v0.2.8"};var C={}.hasOwnProperty,O={}.toString,J=Array.isArray||function(a){return"[object Array]"===O.call(a)},Ra={AREA:1,BASE:1,BR:1,COL:1,COMMAND:1,EMBED:1,HR:1,IMG:1,INPUT:1,KEYGEN:1,LINK:1,META:1,PARAM:1,SOURCE:1,TRACK:1,WBR:1},y,F,ha,Ea;f.deps=function(a){a=c=a||window;y=a.document;F=a.location;Ea=a.cancelAnimationFrame||a.clearTimeout;ha=a.requestAnimationFrame||
a.setTimeout;return c};f.deps.factory=f.factory=b;f.deps(c);var L=0;f.startComputation=function(){L++};f.endComputation=function(){1<L?L--:(L=0,f.redraw())};var H=[],ja=!1,Ta={list:1,style:1,form:1,type:1,width:1,height:1},Fa,db={appendChild:function(a){Fa===g&&(Fa=y.createElement("html"));y.documentElement&&y.documentElement!==a?y.replaceChild(a,y.documentElement):y.appendChild(a);this.childNodes=y.childNodes},insertBefore:function(a){this.appendChild(a)},childNodes:[]},na=[],Y={};f.render=function(a,
b,e){if(!a)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var c=[],f=ma(a),k=a===y,h;h=k||a===y.documentElement?db:a;k&&"html"!==b.tag&&(b={tag:"html",attrs:{},children:b});Y[f]===g&&K(h.childNodes);!0===e&&za(a);Y[f]=ca(h,null,g,g,b,Y[f],!1,0,null,g,c);x(c,function(a){a()})};f.trust=function(a){a=new String(a);a.$trusted=!0;return a};f.prop=function(a){return(null!=a&&(p(a)||h(a))||"undefined"!==typeof Promise&&a instanceof Promise)&&h(a.then)?fa(a):
Va(a)};var V=[],pa=[],D=[],M=null,Ba=0,P=null,W=null,oa;f.component=function(a){for(var b=Array(arguments.length-1),c=1;c<arguments.length;c++)b[c-1]=arguments[c];return ua(a,b)};var B,U;f.mount=f.module=function(a,b){if(!a)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var c=V.indexOf(a);0>c&&(c=V.length);var f=!1,g={preventDefault:function(){f=!0;P=W=null}};x(H,function(a){a.handler.call(a.controller,g);a.controller.onunload=null});f?x(H,function(a){a.controller.onunload=
a.handler}):H=[];if(D[c]&&h(D[c].onunload))D[c].onunload(g);return Wa(b,a,c,f)};var ra=!1;f.redraw=function(a){if(!ra){ra=!0;a&&(ja=!0);try{if(M&&!a){if(ha===c.requestAnimationFrame||16<new Date-Ba)0<M&&Ea(M),M=ha(Aa,16)}else Aa(),M=ha(function(){M=null},16)}finally{ra=ja=!1}}};f.redraw.strategy=f.prop();f.withAttr=function(a,b,c){return function(f){f=f||window.event;var g=f.currentTarget||this;f=c||this;g=a in g?g[a]:g.getAttribute(a);b.call(f,g)}};var R={pathname:"",hash:"#",search:"?"},sa=I,ta=
!1,Q;f.route=function(a,b,e,g){if(0===arguments.length)return B;if(3===arguments.length&&v(b)){sa=function(c){c=B=c.slice(R[f.route.mode].length);if(!Xa(a,e,c)){if(ta)throw Error("Ensure the default route matches one of the routes defined in m.route");ta=!0;f.route(b,!0);ta=!1}};var h="hash"===f.route.mode?"onhashchange":"onpopstate";c[h]=function(){var a=F[f.route.mode];"pathname"===f.route.mode&&(a+=F.search);B!==a.slice(R[f.route.mode].length)&&sa(a)};P=Ca;c[h]()}else if(a.addEventListener||a.attachEvent)a.href=
("pathname"!==f.route.mode?F.pathname:"")+R[f.route.mode]+g.attrs.href,a.addEventListener?(a.removeEventListener("click",ea),a.addEventListener("click",ea)):(a.detachEvent("onclick",ea),a.attachEvent("onclick",ea));else if(v(a)){U=B;B=a;var k=b||{},h=B.indexOf("?"),m;m=-1<h?da(B.slice(h+1)):{};for(var l in k)C.call(k,l)&&(m[l]=k[l]);k=X(m);h=-1<h?B.slice(0,h):B;k&&(B=h+(-1===h.indexOf("?")?"?":"&")+k);h=!0===(3===arguments.length?e:b)||U===B;if(c.history.pushState){var p=h?"replaceState":"pushState";
P=Ca;W=function(){try{c.history[p](null,y.title,R[f.route.mode]+B)}catch(a){F[f.route.mode]=B}}}else F[f.route.mode]=B;sa(R[f.route.mode]+B);U=null}};f.route.param=function(a){if(!Q)throw Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return a?Q[a]:Q};f.route.mode="search";f.route.buildQueryString=X;f.route.parseQueryString=da;f.deferred=function(){var a=new qa;a.promise=fa(a.promise);return a};var aa=1,Z=2,ga=3,Da=4;f.deferred.onerror=function(a){if("[object Error]"===
O.call(a)&&!/ Error/.test(a.constructor.toString()))throw L=0,a;};f.sync=function(a){function b(a,d){return function(b){h[a]=b;d||(k="reject");0===--g&&(c.promise(h),c[k](h));return b}}var c=f.deferred(),g=a.length,h=[],k="resolve";0<a.length?x(a,function(a,c){a.then(b(c,!0),b(c,!1))}):c.resolve([]);return c.promise};f.request=function(a){!0!==a.background&&f.startComputation();var b=new qa,c,g,h;a.dataType&&"jsonp"===a.dataType.toLowerCase()?(c=a.serialize=g=a.deserialize=Ya,h=function(a){return a.responseText}):
(c=a.serialize=a.serialize||JSON.stringify,g=a.deserialize=a.deserialize||JSON.parse,h=a.extract||function(a){return a.responseText.length||g!==JSON.parse?a.responseText:null});a.method=(a.method||"GET").toUpperCase();a.url=cb(a.url,a.data);bb(a,a.data,c);a.onload=a.onerror=function(c){try{c=c||event;var e=g(h(c.target,a));"load"===c.type?(a.unwrapSuccess&&(e=a.unwrapSuccess(e,c.target)),J(e)&&a.type?x(e,function(b,c){e[c]=new a.type(b)}):a.type&&(e=new a.type(e)),b.resolve(e)):(a.unwrapError&&(e=
a.unwrapError(e,c.target)),b.reject(e))}catch(l){b.reject(l),f.deferred.onerror(l)}finally{!0!==a.background&&f.endComputation()}};ab(a);b.promise=fa(b.promise,a.initialValue);return b.promise};return f})},{}]},{},[1]);
