!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return o(n?n:e)},d,d.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e){!function(){var t=e("./src/app"),n=document.getElementsByTagName("style")[0];if(n){var r=t.getLsOrKickOut(window),o="{{cache_key}}",i={};i[o]=n.innerHTML,r.setItem("orkjern_theme_cache",JSON.stringify(i)),document.cookie="ORKJERN_THEME_CACHE={{ cache_key }}"}t.init(window)}()},{"./src/app":2}],2:[function(e,t){function n(e,t){var n=t.document,r=n.getElementsByTagName("head")[0],o=n.createElement("style");return o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(n.createTextNode(e)),r.appendChild(o)}function r(e){var t=e.localStorage;return t?t:(e.alert("Your browser is bad, and you should feel bad. You are not welcome here. You will be redirected to a place where you can upgrade your browser."),e.location.href="http://browsehappy.com/")}function o(e){var t={window:e,m:i};e.test&&i.deps(e);var n=e.document;return i.route.mode="pathname",t.controllers={index:new c(t),node:u,taxonomy:new d(t)},t.booter=new a(t),t.booter.attach(),s(t.window),e.disqus_shortname="{{ disqus_shortname }}",e.disqus_shortname&&e.disqus_shortname.length?(e.DISQUSWIDGETS=void 0,function(){var t=n.createElement("script");t.async=!0,t.type="text/javascript",t.src="//"+e.disqus_shortname+".disqus.com/count.js",(n.getElementsByTagName("HEAD")[0]||n.getElementsByTagName("BODY")[0]).appendChild(t)}(),t):t}var i=e("mithril"),a=e("./booter"),s=e("./disqus"),u=e("./controllers/node"),c=e("./controllers/index"),d=e("./controllers/taxonomy");t.exports={appendCss:n,getLsOrKickOut:r,init:o}},{"./booter":3,"./controllers/index":4,"./controllers/node":5,"./controllers/taxonomy":6,"./disqus":7,mithril:12}],3:[function(e,t){function n(e){this.app=e,this.window=e.window;var t=e.controllers.index,n=e.controllers.node,r=e.controllers.taxonomy;this.booted=!1,this.routeConf={},this.routeConf["/"]=t,this.routeConf["/node"]=t,this.routeConf["/:alias"]=n,this.routeConf["/node/:nid"]=n,this.routeConf["/taxonomy/term/:tid"]=r;var o=this.app.m;this.m=o;var i=this.window.document,a=this;this.startFunction=function(){var e=this.getAttribute("href");return a.navigate(e),!1};var s=i.getElementById("logo");s&&(s.onclick=function(){var e=o.route();return"/"!==e&&a.navigate("/"),!1})}t.exports=n,n.prototype.attach=function(e){var t=e||"#main-wrapper a",n=this.window.document;if(n&&n.querySelectorAll)for(var r=n.querySelectorAll(t),o=0,i=r.length;i>o;o++)r[o].onclick=this.startFunction},n.prototype.navigate=function(e){var t=this.window;!this.booted&&t&&t.document&&(this.m.route(t.document.getElementById("main-wrapper"),e,this.routeConf),this.booted=!0),this.m.route(e)},n.prototype.navigateEl=function(e,t){var n=e.getAttribute("href");return t.navigate(n),!1}},{}],4:[function(e,t){var n=e("../views/index"),r=e("../http"),o={},i=function(e){return function(){var t=e.window,n=this;this.nodes=m.prop([]),r("node").then(function(r){n.nodes=r;var o=function(){e.booter.attach(".field-type-taxonomy-term-reference a")};setTimeout(o,2);var i=e.window.document;t.DISQUSWIDGETS=void 0,function(){var e=i.createElement("script");e.async=!0,e.type="text/javascript",e.src="//"+t.disqus_shortname+".disqus.com/count.js",(i.getElementsByTagName("HEAD")[0]||i.getElementsByTagName("BODY")[0]).appendChild(e)}()}),this.navigate=function(t){e.booter.navigateEl(t,e.booter)}}};o.view=n,t.exports=function(e){return o.app=e,o.controller=new i(e),o}},{"../http":9,"../views/index":10}],5:[function(e,t){var n=e("mithril"),r=e("../views/node"),o=e("../http"),i=e("../gist"),a=e("../disqus"),s={};s.controller=function(){var e=this;this.title=n.prop(""),this.body=n.prop("Loading..."),this.raw=n.prop({}),this.image=n.prop("about:blank"),e.submitted=n.prop("");var t;this.imageClass=n.prop("noplay"),this.toggleImageClass=function(){n.startComputation(),e.imageClass("play"),t&&e.image(t),n.endComputation()};var r=n.route.param("alias"),s=n.route.param("nid");if(!r){if(!s)return void n.route("/");r="node/"+s}o(r).then(function(n){if(n){var r=new Date(1e3*n.created[0].value);e.title(n.title[0].value),e.body(n.body[0].value),e.submitted("Submitted "+r.toLocaleDateString());for(var o in n._links)o.indexOf("image")<1||n._links.hasOwnProperty(o)&&o.indexOf("image")&&(t=n._links[o][0].href);e.raw=n,setTimeout(function(){i(window)},1),window.disqus_shortname="{{ disqus_shortname }}",setTimeout(function(){a(window)},20)}},function(t){404===t&&(e.title("404 not found!"),e.body("The page you are looking for is nowhere to be found. Real sorry about that!"),e.imageClass("hide")),403===t&&(e.title("403 Forbidden!"),e.body("You are not allowed to access this page. I am guessing you already knew that!"))})},s.view=r,t.exports=s},{"../disqus":7,"../gist":8,"../http":9,"../views/node":11,mithril:12}],6:[function(e,t){var n=e("../views/index"),r=e("../http"),o={},i=function(e){return function(){var t=this;this.nodes=m.prop([]);var n=m.route.param("tid");r("taxonomy/term/"+n).then(function(n){n.map(function(e){e.body=""}),t.nodes=n,window.disqus_shortname="{{ disqus_shortname }}";var r=function(){e.booter.attach(".field-type-taxonomy-term-reference a")};setTimeout(r,2),window.disqus_shortname&&window.disqus_shortname.length&&(window.DISQUSWIDGETS=void 0,function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="//"+window.disqus_shortname+".disqus.com/count.js",(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(e)}())}),this.navigate=function(t){e.booter.navigateEl(t,e.booter)}}};o.view=n,t.exports=function(e){return o.controller=new i(e),o}},{"../http":9,"../views/index":10}],7:[function(e,t){var n=function(e){var t=e.document,n=function(){if(e.disqus_shortname){if(e.disqus_identifier=m.route(),e.disqus_loaded)return void e.DISQUS.reset({reload:!0,config:function(){this.page.identifier=e.disqus_identifier,this.page.url=e.location.origin+e.disqus_identifier}});e.disqus_loaded=!0;var n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src="//"+e.disqus_shortname+".disqus.com/embed.js?url="+e.disqus_identifier,(t.getElementsByTagName("head")[0]||t.getElementsByTagName("body")[0]).appendChild(n)}},r=t.getElementById("disqus_thread"),o=!1;e.onscroll=function(){o||e.scrollY&&r&&r.offsetTop&&e.innerHeight&&e.scrollY+e.innerHeight+50>r.offsetTop&&(o=!0,n())}};t.exports=n},{}],8:[function(e,t){t.exports=function(e){for(var t=e.document,n=function(n,r){var o="gist_callback"+Math.floor(1e3*Math.random()),i=t.createElement("script");i.setAttribute("src","https://gist.github.com/"+r+".json?callback="+o),e[o]=function(t){delete e[o];var r='<link href="'+t.stylesheet+'" rel="stylesheet">';r+=t.div,n.innerHTML=r,i.parentNode.removeChild(i),n.className+="processed"},t.body.appendChild(i)},r=t.getElementsByTagName("gist"),o=0,i=r.length;i>o;o++){var a=r[o];n(a,a.innerHTML)}}},{}],9:[function(e,t){function n(e){var t=function(e){e.setRequestHeader("Accept","application/hal+json")},n=function(e){return 200===e.status?e.responseText:JSON.stringify(e.status)};return m.request({method:"GET",url:"/"+e+"?json",config:t,extract:n,deserialize:function(e){var t;try{t=JSON.parse(e)}catch(n){t=""}return t}})}t.exports=n},{}],10:[function(e,t){function n(e){var t=function(t){return m("article",{"class":"node node--view-mode-teaser clearfix",about:"/aa-cc","typeof":"schema:Article"},[m("h2",{"class":"node__title "},[m("a",{href:t.path,onclick:function(){return e.navigate(this),!1}},[t.title])]),m("div",{"class":"node__meta"},["Submitted ",t.created]),m("div",{"class":"read-more"},[m("a",{href:t.path,onclick:function(){return e.navigate(this),!1}},["Read more"])]),m("div",{"class":"comment-count"},[m("a",{"data-disqus-identifier":t.path,href:t.path,onclick:function(){return e.navigate(this),!1}})]),m.trust(t.field_tags)])};return m("div",{"class":"content"},[m("div",[e.nodes.map?e.nodes.map(t):""])])}t.exports=n},{}],11:[function(e,t){function n(e){return m("div",{"class":"content"},[m("article",{"class":"node node--view-mode-full clearfix",about:"/aa-cc","typeof":"schema:Article"},[m("h1",{"class":"title",id:"page-title"},[e.title()]),m("div",{"class":"node__meta"},[e.submitted()]),m("div",{"class":"node__content clearfix "},[m("p",[m.trust(e.body())])]),m("div",{"class":e.imageClass()+" image",onclick:e.toggleImageClass},[m("img",{src:e.image()}),m("h2",["Play"])])]),m("div",{id:"disqus_thread"})])}t.exports=n},{}],12:[function(e,t){Mithril=m=new function n(e,t){function r(e){return{}.toString.call(e)}function o(e){return r(e)==D}function i(e){return r(e)==M}function a(e){return"function"==typeof e}function s(e){return r(e)==I}function u(){for(var e,t=Array.prototype.slice,n=t.call(arguments,0),a=(!(null==n[1]||!o(n[1])||"tag"in n[1]||"subtree"in n[1])),s=a?n[1]:{},u=("class"in s?"class":"className"),c={tag:"div",attrs:{}},d=[];e=L.exec(n[0]);)if(""==e[1])c.tag=e[2];else if("#"==e[1])c.attrs.id=e[2];else if("."==e[1])d.push(e[2]);else if("["==e[3][0]){var l=R.exec(e[3]);c.attrs[l[1]]=l[3]||(l[2]?"":!0)}d.length>0&&(c.attrs[u]=d.join(" "));var f=a?n[2]:n[1];c.children=i(f)||"[object Arguments]"==r(f)?t.call(f,0):n.slice(a?2:1);for(var m in s)c.attrs[m]=m==u?(c.attrs[m]||"")+" "+s[m]:s[m];return c}function c(n,o,u,f,p,g,v,y,w,x,b){if(null==p&&(p=""),"retain"===p.subtree)return g;var E=r(g),C=r(p);if(null==g||E!=C){if(null!=g)if(u&&u.nodes){var N=y-f,T=N+(C==M?p:g.nodes).length;l(u.nodes.slice(N,T),u.slice(N,T))}else g.nodes&&l(g.nodes,g);g=new p.constructor,g.tag&&(g={}),g.nodes=[]}if(C==M){p=h(p);for(var q=[],_=g.length===p.length,O=0,k=1,S=2,j=3,A={},B=[],I=!1,L=0;L<g.length;L++)g[L]&&g[L].attrs&&null!=g[L].attrs.key&&(I=!0,A[g[L].attrs.key]={action:k,index:L});if(I){for(var L=0;L<p.length;L++)if(p[L]&&p[L].attrs)if(null!=p[L].attrs.key){var R=p[L].attrs.key;A[R]=A[R]?{action:j,index:L,from:A[R].index,element:n.childNodes[A[R].index]||e.document.createElement("div")}:{action:S,index:L}}else B.push({index:L,element:n.childNodes[L]||e.document.createElement("div")});for(var U,J=Object.keys(A).map(function(e){return A[e]}),K=J.sort(function(e,t){return e.action-t.action||e.index-t.index}),Y=g.slice(),L=0;U=K[L];L++){if(U.action==k&&(l(g[U.index].nodes,g[U.index]),Y.splice(U.index,1)),U.action==S){var G=e.document.createElement("div");G.key=p[U.index].attrs.key,n.insertBefore(G,n.childNodes[U.index]),Y.splice(U.index,0,{attrs:{key:p[U.index].attrs.key},nodes:[G]})}U.action==j&&(n.childNodes[U.index]!==U.element&&null!==U.element&&n.insertBefore(U.element,n.childNodes[U.index]),Y[U.index]=g[U.from])}for(var L=0;L<B.length;L++){var U=B[L];n.insertBefore(U.element,n.childNodes[U.index]),Y[U.index]=g[U.index]}g=Y,g.nodes=[];for(var z,L=0;z=n.childNodes[L];L++)g.nodes.push(z)}for(var L=0,F=0;L<p.length;L++){var P=c(n,o,g,y,p[L],g[F],v,y+O||O,w,x,b);P!==t&&(P.nodes.intact||(_=!1),O+=i(P)?P.length:1,g[F++]=P)}if(!_){for(var L=0;L<p.length;L++)null!=g[L]&&(q=q.concat(g[L].nodes));for(var Q,L=0;Q=g.nodes[L];L++)null!=Q.parentNode&&q.indexOf(Q)<0&&l([Q],[g[L]]);for(var Q,L=g.nodes.length;Q=q[L];L++)null==Q.parentNode&&n.appendChild(Q);p.length<g.length&&(g.length=p.length),g.nodes=q}}else if(null!=p&&C==D){if((p.tag!=g.tag||Object.keys(p.attrs).join()!=Object.keys(g.attrs).join()||p.attrs.id!=g.attrs.id)&&(l(g.nodes),g.configContext&&a(g.configContext.onunload)&&g.configContext.onunload()),!s(p.tag))return;var Q,W=0===g.nodes.length;if(p.attrs.xmlns?x=p.attrs.xmlns:"svg"===p.tag?x="http://www.w3.org/2000/svg":"math"===p.tag&&(x="http://www.w3.org/1998/Math/MathML"),W?(Q=x===t?e.document.createElement(p.tag):e.document.createElementNS(x,p.tag),g={tag:p.tag,children:c(Q,p.tag,t,t,p.children,g.children,!0,0,p.attrs.contenteditable?Q:w,x,b),attrs:d(Q,p.tag,p.attrs,{},x),nodes:[Q]},n.insertBefore(Q,n.childNodes[y]||null)):(Q=g.nodes[0],d(Q,p.tag,p.attrs,g.attrs,x),g.children=c(Q,p.tag,t,t,p.children,g.children,!1,0,p.attrs.contenteditable?Q:w,x,b),g.nodes.intact=!0,v===!0&&null!=Q&&n.insertBefore(Q,n.childNodes[y]||null)),a(p.attrs.config)){var $=g.configContext=g.configContext||{},V=function(e,t){return function(){return e.attrs.config.apply(e,t)}};b.push(V(p,[Q,!W,$,g]))}}else if(!a(C)){var q;0===g.nodes.length?(p.$trusted?q=m(n,y,p):(q=[e.document.createTextNode(p)],n.nodeName.match(H)||n.insertBefore(q[0],n.childNodes[y]||null)),g="string number boolean".indexOf(typeof p)>-1?new p.constructor(p):p,g.nodes=q):g.valueOf()!==p.valueOf()||v===!0?(q=g.nodes,w&&w===e.document.activeElement||(p.$trusted?(l(q,g),q=m(n,y,p)):"textarea"===o?n.value=p:w?w.innerHTML=p:((1==q[0].nodeType||q.length>1)&&(l(g.nodes,g),q=[e.document.createTextNode(p)]),n.insertBefore(q[0],n.childNodes[y]||null),q[0].nodeValue=p)),g=new p.constructor(p),g.nodes=q):g.nodes.intact=!0}return g}function d(t,n,r,i,s){for(var u in r){var c=r[u],d=i[u];if(!(u in i)||d!==c){i[u]=c;try{if("config"===u)continue;if(a(c)&&0==u.indexOf("on"))t[u]=p(c,t);else if("style"===u&&o(c)){for(var l in c)(null==d||d[l]!==c[l])&&(t.style[l]=c[l]);for(var l in d)l in c||(t.style[l]="")}else null!=s?"href"===u?t.setAttributeNS("http://www.w3.org/1999/xlink","href",c):"className"===u?t.setAttribute("class",c):t.setAttribute(u,c):u in t&&"list"!=u&&"style"!=u&&"form"!=u?(t!==e.document.activeElement||"value"!=u)&&(t[u]=c):t.setAttribute(u,c)}catch(f){if(f.message.indexOf("Invalid argument")<0)throw f}}}return i}function l(e,t){for(var n=e.length-1;n>-1;n--)e[n]&&e[n].parentNode&&(e[n].parentNode.removeChild(e[n]),t=[].concat(t),t[n]&&f(t[n]));0!=e.length&&(e.length=0)}function f(e){if(e.configContext&&a(e.configContext.onunload)&&e.configContext.onunload(),e.children)if(i(e.children))for(var t=0;t<e.children.length;t++)f(e.children[t]);else e.children.tag&&f(e.children)}function m(t,n,r){var o=t.childNodes[n];if(o){var i=1!=o.nodeType,a=e.document.createElement("span");i?(t.insertBefore(a,o),a.insertAdjacentHTML("beforebegin",r),t.removeChild(a)):o.insertAdjacentHTML("beforebegin",r)}else t.insertAdjacentHTML("beforeend",r);for(var s=[];t.childNodes[n]!==o;)s.push(t.childNodes[n]),n++;return s}function h(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];i(r)?t.push.apply(t,h(r)):t.push(r)}return t}function p(e,t){return function(n){n=n||event,u.redraw.strategy("diff"),u.startComputation();try{return e.call(t,n)}finally{F||(F=-1),u.endComputation()}}}function g(e){var t=J.indexOf(e);return 0>t?J.push(e)-1:t}function v(e){var t=function(){return arguments.length&&(e=arguments[0]),e};return t.toJSON=function(){return e},t}function y(){for(var e=u.redraw.strategy(),t=0;t<Y.length;t++)z[t]&&"none"!=e&&u.render(Y[t],G[t].view(z[t]),"all"==e);Q&&(Q(),Q=null),F=null,P=new Date,u.redraw.strategy("diff")}function w(e){return e.slice(X[u.route.mode].length)}function x(e,t,n){et={};var r=n.indexOf("?");-1!==r&&(et=N(n.substr(r+1,n.length)),n=n.substr(0,r));for(var o in t){if(o==n)return u.module(e,t[o]),!0;var i=new RegExp("^"+o.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(i.test(n))return n.replace(i,function(){for(var n=o.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2),i=0;i<n.length;i++)et[n[i].replace(/:|\./g,"")]=decodeURIComponent(r[i]);u.module(e,t[o])}),!0}}function b(e){if(e=e||event,!e.ctrlKey&&!e.metaKey&&2!=e.which){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.currentTarget||this;u.route(t[u.route.mode].slice(X[u.route.mode].length))}}function E(){"hash"!=u.route.mode&&e.location.hash?e.location.hash=e.location.hash:e.scrollTo(0,0)}function C(e,t){var n=[];for(var r in e){var i=t?t+"["+r+"]":r,a=e[r];n.push(o(a)?C(a,i):encodeURIComponent(i)+"="+encodeURIComponent(a))}return n.join("&")}function N(e){for(var t=e.split("&"),n={},r=0;r<t.length;r++){var o=t[r].split("=");n[T(o[0])]=o[1]?T(o[1]):1===o.length?!0:""}return n}function T(e){return decodeURIComponent(e.replace(/\+/g," "))}function q(e){var n=g(e);l(e.childNodes,K[n]),K[n]=t}function _(e){return prop=u.prop(),e.then(prop),prop.then=function(t,n){return _(e.then(t,n))},prop}function O(e,t){function n(e){m=e||l,p.map(function(e){m==d&&e.resolve(h)||e.reject(h)})}function r(e,t,n,r){if((o(h)||a(h))&&a(e))try{var i=0;e.call(h,function(e){i++||(h=e,t())},function(e){i++||(h=e,n())})}catch(s){u.deferred.onerror(s),h=s,n()}else r()}function i(){var o;try{o=h&&h.then}catch(l){return u.deferred.onerror(l),h=l,m=c,i()}r(o,function(){m=s,i()},function(){m=c,i()},function(){try{m==s&&a(e)?h=e(h):m==c&&a(t)&&(h=t(h),m=s)}catch(i){return u.deferred.onerror(i),h=i,n()}h==f?(h=TypeError(),n()):r(o,function(){n(d)},n,function(){n(m==s&&d)})})}var s=1,c=2,d=3,l=4,f=this,m=0,h=0,p=[];f.promise={},f.resolve=function(e){return m||(h=e,m=s,i()),this},f.reject=function(e){return m||(h=e,m=c,i()),this},f.promise.then=function(e,t){var n=new O(e,t);return m==d?n.resolve(h):m==l?n.reject(h):p.push(n),n.promise}}function k(e){return e}function S(t){if(!t.dataType||"jsonp"!==t.dataType.toLowerCase()){var n=new e.XMLHttpRequest;if(n.open(t.method,t.url,!0,t.user,t.password),n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300?t.onload({type:"load",target:n}):t.onerror({type:"error",target:n}))},t.serialize==JSON.stringify&&t.data&&"GET"!=t.method&&n.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.deserialize==JSON.parse&&n.setRequestHeader("Accept","application/json, text/*"),a(t.config)){var r=t.config(n,t);null!=r&&(n=r)}return n.send("GET"!=t.method&&t.data?t.data:""),n}var o="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),i=e.document.createElement("script");e[o]=function(n){delete e[o],e.document.body.removeChild(i),t.onload({type:"load",target:{responseText:n}})},i.onerror=function(){return delete e[o],e.document.body.removeChild(i),t.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),!1},i.onload=function(){return!1},i.src=t.url+(t.url.indexOf("?")>0?"&":"?")+(t.callbackKey?t.callbackKey:"callback")+"="+o+"&"+C(t.data||{}),e.document.body.appendChild(i)}function j(e,t,n){return t&&Object.keys(t).length>0&&("GET"==e.method?e.url=e.url+(e.url.indexOf("?")<0?"?":"&")+C(t):e.data=n(t)),e}function A(e,t){var n=e.match(/:[a-z]\w+/gi);if(n&&t)for(var r=0;r<n.length;r++){var o=n[r].slice(1);e=e.replace(n[r],t[o]),delete t[o]}return e}var B,D="[object Object]",M="[object Array]",I="[object String]",L=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,R=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,H=/AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TR‌​ACK|WBR/,U={appendChild:function(n){B===t&&(B=e.document.createElement("html")),e.document.documentElement&&e.document.documentElement!==n?e.document.replaceChild(n,e.document.documentElement):e.document.appendChild(n),this.childNodes=e.document.childNodes},insertBefore:function(e){this.appendChild(e)},childNodes:[]},J=[],K={};u.render=function(n,r,o){var i=[];if(!n)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var a=g(n),s=n==e.document,u=s||n==e.document.documentElement?U:n;s&&"html"!=r.tag&&(r={tag:"html",attrs:{},children:r}),K[a]===t&&l(u.childNodes),o===!0&&q(n),K[a]=c(u,null,t,t,r,K[a],!1,0,null,t,i);for(var d=0;d<i.length;d++)i[d]()},u.trust=function(e){return e=new String(e),e.$trusted=!0,e},u.prop=function(e){return(o(e)||a(e))&&null!==e&&a(e.then)?_(e):v(e)};var Y=[],G=[],z=[],F=null,P=0,Q=null,W=16;u.module=function(e,t){var n=Y.indexOf(e);0>n&&(n=Y.length);var r=!1;if(z[n]&&a(z[n].onunload)){var o={preventDefault:function(){r=!0}};z[n].onunload(o)}return r?void 0:(u.redraw.strategy("all"),u.startComputation(),Y[n]=e,G[n]=t,z[n]=new t.controller,u.endComputation(),z[n])},u.redraw=function(t){var n=e.cancelAnimationFrame||e.clearTimeout,r=e.requestAnimationFrame||e.setTimeout;F&&t!==!0?(new Date-P>W||r==e.requestAnimationFrame)&&(F>0&&n(F),F=r(y,W)):(y(),F=r(function(){F=null},W))},u.redraw.strategy=u.prop();var $=0;u.startComputation=function(){$++},u.endComputation=function(){$=Math.max($-1,0),0==$&&u.redraw()},u.withAttr=function(e,t){return function(n){n=n||event;var r=n.currentTarget||this;t(e in r?r[e]:r.getAttribute(e))}};var V,X={pathname:"",hash:"#",search:"?"},Z=function(){},et={};return u.route=function(){if(0===arguments.length)return V;if(3===arguments.length&&s(arguments[1])){var t=arguments[0],n=arguments[1],r=arguments[2];Z=function(e){var o=V=w(e);x(t,r,o)||u.route(n,!0)};var i="hash"==u.route.mode?"onhashchange":"onpopstate";e[i]=function(){V!=w(e.location[u.route.mode])&&Z(e.location[u.route.mode])},Q=E,e[i]()}else if(arguments[0].addEventListener){var a=arguments[0],c=arguments[1],d=arguments[2];c||(d.href=a.getAttribute("href"),a.href=e.location.pathname+X[u.route.mode]+d.href,a.removeEventListener("click",b),a.addEventListener("click",b))}else if(s(arguments[0])){V=arguments[0];var l=o(arguments[1])?C(arguments[1]):null;l&&(V+=(-1===V.indexOf("?")?"?":"&")+l);var f=(3==arguments.length?arguments[2]:arguments[1])===!0;e.history.pushState?(Q=function(){e.history[f?"replaceState":"pushState"](null,e.document.title,X[u.route.mode]+V),E()},Z(X[u.route.mode]+V)):e.location[u.route.mode]=V}},u.route.param=function(e){return et[e]},u.route.mode="search",u.deferred=function(){var e=new O;return e.promise=_(e.promise),e},u.deferred.onerror=function(e){if("[object Error]"==r(e)&&!e.constructor.toString().match(/ Error/))throw e},u.sync=function(e){function t(e,t){return function(a){return i[e]=a,t||(n="reject"),0==--o&&(r.promise(i),r[n](i)),a}}var n="resolve",r=u.deferred(),o=e.length,i=new Array(o);if(e.length>0)for(var a=0;a<e.length;a++)e[a].then(t(a,!0),t(a,!1));else r.resolve();return r.promise},u.request=function(e){e.background!==!0&&u.startComputation();var t=u.deferred(),n=e.dataType&&"jsonp"===e.dataType.toLowerCase(),r=e.serialize=n?k:e.serialize||JSON.stringify,o=e.deserialize=n?k:e.deserialize||JSON.parse,a=e.extract||function(e){return 0===e.responseText.length&&o===JSON.parse?null:e.responseText};return e.url=A(e.url,e.data),e=j(e,e.data,r),e.onload=e.onerror=function(n){try{n=n||event;var r=("load"==n.type?e.unwrapSuccess:e.unwrapError)||k,s=r(o(a(n.target,e)));if("load"==n.type)if(i(s)&&e.type)for(var c=0;c<s.length;c++)s[c]=new e.type(s[c]);else e.type&&(s=new e.type(s));t["load"==n.type?"resolve":"reject"](s)}catch(n){u.deferred.onerror(n),t.reject(n)}e.background!==!0&&u.endComputation()},S(e),t.promise},u.deps=function(t){return e=t},u.deps.factory=n,u}("undefined"!=typeof window?window:{}),"undefined"!=typeof t&&null!==t&&(t.exports=m),"function"==typeof define&&define.amd&&define(function(){return m})},{}]},{},[1]);