(function e$$0(g,m,d){function c(v,da){if(!m[v]){if(!g[v]){var b="function"==typeof require&&require;if(!da&&b)return b(v,!0);if(h)return h(v,!0);b=Error("Cannot find module '"+v+"'");throw b.code="MODULE_NOT_FOUND",b;}b=m[v]={exports:{}};g[v][0].call(b.exports,function(b){var h=g[v][1][b];return c(h?h:b)},b,b.exports,e$$0,g,m,d)}return m[v].exports}for(var h="function"==typeof require&&require,v=0;v<d.length;v++)c(d[v]);return c})({1:[function(l,g,m){l=l("./src/app");g=l.getLsOrKickOut(window);try{var d=
g.getItem("orkjern_theme_cache");if(!d)throw Error("Have no cache data");var c=JSON.parse(d);if(!c)throw Error("Can not parse data");if(!c["{{cache_key}}"])throw Error("Have old cache");l.appendCss(c["{{cache_key}}"],window)}catch(h){g.clear("orkjern_theme_cache"),document.cookie="ORKJERN_THEME_CACHE=123",window.location.reload()}l.init(window)},{"./src/app":2}],2:[function(l,g,m){var d=l("mithril"),c=l("./booter"),h=l("./disqus"),v=l("./gist"),Ca=l("./controllers/node"),da=l("./controllers/index"),
b=l("./controllers/taxonomy");g.exports={appendCss:function(b,c){var h=c.document,v=h.getElementsByTagName("head")[0],d=h.createElement("style");d.type="text/css";d.styleSheet?d.styleSheet.cssText=b:d.appendChild(h.createTextNode(b));return v.appendChild(d)},getLsOrKickOut:function(b){var c=b.localStorage;if(!c){if(b.navigator&&b.navigator.userAgent&&b.navigator.userAgent.match(/Twitter/))return!1;b.alert("Your browser is bad, and you should feel bad. You are not welcome here. You will be redirected to a place where you can upgrade your browser.");
b.location.href="http://browsehappy.com/";return!1}return c},init:function(p){var A={window:p,m:d};p.test&&d.deps(p);var l=p.document;d.route.mode="pathname";A.controllers={index:new da(A),node:Ca,taxonomy:new b(A)};A.booter=new c(A);A.booter.attach();h(A.window);v(A.window);p.disqus_shortname="{{ disqus_shortname }}";if(!p.disqus_shortname||!p.disqus_shortname.length)return A;p.DISQUSWIDGETS=void 0;if(l.querySelectorAll&&0===l.querySelectorAll("a[data-disqus-identifier]").length)for(var g=l.querySelectorAll(".views-field-view-node a"),
m=0,ea=g.length;m<ea;m++){var z=l.createElement("div");z.className="comment-count";var P=l.createElement("a");P.href=g[m].pathname;P.setAttribute("data-disqus-identifier",g[m].pathname);z.appendChild(P);g[m].parentNode.parentNode.parentNode.insertBefore(z,g[m].parentNode.parentNode.nextSibling)}g=l.createElement("script");g.async=!0;g.type="text/javascript";g.src="//"+p.disqus_shortname+".disqus.com/count.js";(l.getElementsByTagName("HEAD")[0]||l.getElementsByTagName("BODY")[0]).appendChild(g);return A}}},
{"./booter":3,"./controllers/index":4,"./controllers/node":5,"./controllers/taxonomy":6,"./disqus":7,"./gist":8,mithril:12}],3:[function(l,g,m){function d(c){this.app=c;this.window=c.window;var h=c.controllers.index,v=c.controllers.node;c=c.controllers.taxonomy;this.booted=!1;this.routeConf={};this.routeConf["/"]=h;this.routeConf["/node"]=h;this.routeConf["/:alias"]=v;this.routeConf["/node/:nid"]=v;this.routeConf["/taxonomy/term/:tid"]=c;var d=this.app.m;this.m=d;var h=this.window.document,l=this;
this.startFunction=function(){var b=this.getAttribute("href");l.navigate(b);return!1};if(h=h.querySelector(".site-name a"))h.onclick=function(){"/"!==d.route()&&l.navigate("/");return!1}}g.exports=d;d.prototype.attach=function(c){var h=this.window.document;if(h&&h.querySelectorAll){c=h.querySelectorAll(c||"#main-wrapper a");for(var h=0,d=c.length;h<d;h++)c[h].onclick=this.startFunction}};d.prototype.navigate=function(c){var h=this.window;!this.booted&&h&&h.document&&(this.m.route(h.document.getElementById("main-wrapper"),
c,this.routeConf),this.booted=!0);this.m.route(c)};d.prototype.navigateEl=function(c,h){var d=c.getAttribute("href");h.navigate(d);return!1}},{}],4:[function(l,g,m){m=l("../views/index");var d=l("../http"),c={},h=function(c){var h=c.m;return function(){var l=c.window,b=this;this.nodes=h.prop([]);d("api/node").then(function(h){b.nodes=h;setTimeout(function(){c.booter.attach(".field-type-taxonomy-term-reference a")},2);var d=c.window.document;l.DISQUSWIDGETS=void 0;l.disqus_shortname&&function(){var b=
d.createElement("script");b.async=!0;b.type="text/javascript";b.src="//"+l.disqus_shortname+".disqus.com/count.js";(d.getElementsByTagName("HEAD")[0]||d.getElementsByTagName("BODY")[0]).appendChild(b)}()});this.navigate=function(b){c.booter.navigateEl(b,c.booter)}}};c.view=m;g.exports=function(d){c.app=d;c.controller=new h(d);return c}},{"../http":9,"../views/index":10}],5:[function(l,g,m){var d=l("mithril");m=l("../views/node");var c=l("../http"),h=l("../gist"),v=l("../disqus");l={controller:function(){var l=
this;this.title=d.prop("");this.body=d.prop("Loading...");this.raw=d.prop({});this.tags=d.prop([]);this.image=d.prop("about:blank");l.submitted=d.prop("");var g;this.imageClass=d.prop("noplay");this.toggleImageClass=function(){d.startComputation();l.imageClass("play");g&&l.image(g);d.endComputation()};var b=d.route.param("alias"),p=d.route.param("nid");if(!b){if(!p){d.route("/");return}b="node/"+p}c(b).then(function(b){if(b){var c=new Date(1E3*b.created[0].value);l.title(b.title[0].value);l.body(b.body[0].value);
l.submitted("Submitted "+c.toLocaleDateString());var c=[],d;for(d in b._links)if(!(1>d.indexOf("image")&&1>d.indexOf("tags"))&&b._links.hasOwnProperty(d)&&(0<d.indexOf("image")&&(g=b._links[d][0].href),0<d.indexOf("tags")))for(var p=0,m=b._links[d].length;p<m;p++){var z=b._links[d][p].href,z=z.substring(z.lastIndexOf("/")+1,z.lastIndexOf("?"));orkjernTags[z]&&c.push({tid:z,title:orkjernTags[z]})}c.length&&l.tags(c);l.raw=b;setTimeout(function(){h(window)},200);window.disqus_shortname="{{ disqus_shortname }}";
setTimeout(function(){v(window)},200)}},function(b){404===b&&(l.title("404 not found!"),l.body("The page you are looking for is nowhere to be found. Real sorry about that!"),l.imageClass("hide"));403===b&&(l.title("403 Forbidden!"),l.body("You are not allowed to access this page. I am guessing you already knew that!"))})}};l.view=m;g.exports=l},{"../disqus":7,"../gist":8,"../http":9,"../views/node":11,mithril:12}],6:[function(l,g,m){m=l("../views/index");var d=l("../http"),c={},h=function(c){var h=
c.m;return function(){var l=this;this.nodes=h.prop([]);var b=h.route.param("tid");d("api/taxonomy/term/"+b).then(function(b){b.map(function(b){b.body=""});l.nodes=b;window.disqus_shortname="{{ disqus_shortname }}";setTimeout(function(){c.booter.attach(".field-type-taxonomy-term-reference a")},2);window.disqus_shortname&&window.disqus_shortname.length&&(window.DISQUSWIDGETS=void 0,function(){var b=document.createElement("script");b.async=!0;b.type="text/javascript";b.src="//"+window.disqus_shortname+
".disqus.com/count.js";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(b)}())});this.navigate=function(b){c.booter.navigateEl(b,c.booter)}}};c.view=m;g.exports=function(d){c.controller=new h(d);return c}},{"../http":9,"../views/index":10}],7:[function(l,g,m){var d=l("mithril");g.exports=function(c){var h=c.document;"undefined"===typeof d&&(d=c.m);var l=function(){if(c.disqus_shortname)if(c.disqus_identifier=d.route(),c.disqus_identifier||(c.disqus_identifier=
c.location.pathname),c.disqus_loaded)c.DISQUS.reset({reload:!0,config:function(){this.page.identifier=c.disqus_identifier;this.page.url=c.location.origin+c.disqus_identifier}});else{c.disqus_loaded=!0;var b=h.createElement("script");b.type="text/javascript";b.async=!0;b.src="//"+c.disqus_shortname+".disqus.com/embed.js?url="+c.disqus_identifier;(h.getElementsByTagName("head")[0]||h.getElementsByTagName("body")[0]).appendChild(b)}},g=h.getElementById("disqus_thread"),m=!1;c.onscroll=function(){g||
(g=h.getElementById("disqus_thread"));!m&&c.scrollY&&g&&g.offsetTop&&c.innerHeight&&c.scrollY+c.innerHeight+50>g.offsetTop&&(m=!0,l())}}},{mithril:12}],8:[function(l,g,m){g.exports=function(d){for(var c=d.document,h=function(b,h){var l="gist_callback"+Math.floor(1E3*Math.random()),g=c.createElement("script");g.setAttribute("src","https://gist.github.com/"+h+".json?callback="+l);d[l]=function(c){delete d[l];var h='<link href="'+c.stylesheet+'" rel="stylesheet">',h=h+c.div;b.innerHTML=h;g.parentNode.removeChild(g);
b.className+="processed"};c.body.appendChild(g)},l=c.getElementsByTagName("gist"),g=0,m=l.length;g<m;g++){var b=l[g];b.className&&-1<b.className.indexOf("processed")||h(b,b.innerHTML)}}},{}],9:[function(l,g,m){g.exports=function(c){return d.request({method:"GET",url:"/"+c+"?_format=hal_json",config:function(c){c.setRequestHeader("Accept","application/hal+json")},extract:function(c){return 200===c.status?c.responseText:JSON.stringify(c.status)},deserialize:function(c){var d;try{d=JSON.parse(c)}catch(l){d=
""}return d}})};var d=l("mithril")},{mithril:12}],10:[function(l,g,m){var d=l("mithril");g.exports=function(c){var h=function(h){return{tag:"article",attrs:{class:"node node--view-mode-teaser clearfix",about:"/aa-cc",typeof:"schema:Article"},children:[{tag:"h2",attrs:{class:"node__title "},children:[{tag:"a",attrs:{href:h.path,onclick:function(){c.navigate(this);return!1}},children:[h.title]}]},{tag:"div",attrs:{class:"node__meta"},children:["Post date: ",h.created]},{tag:"div",attrs:{class:"read-more"},
children:[{tag:"a",attrs:{href:h.path,onclick:function(){c.navigate(this);return!1}},children:["Read more"]}]},{tag:"div",attrs:{class:"comment-count"},children:[{tag:"a",attrs:{"data-disqus-identifier":h.path,href:h.path,onclick:function(){c.navigate(this);return!1}}}]},d.trust(h.field_tags)]}};return{tag:"main",attrs:{id:"content",class:"column",role:"main"},children:[{tag:"section",attrs:{class:"section"},children:[{tag:"div",attrs:{class:"content"},children:[{tag:"div",attrs:{},children:[c.nodes.map?
c.nodes.map(h):""]}]}]}]}}},{mithril:12}],11:[function(l,g,m){var d=l("mithril");g.exports=function(c){var h=c.tags().map(function(c){return{tag:"li",attrs:{},children:[{tag:"a",attrs:{href:"/taxonomy/term/"+c.tid,hreflang:"en"},children:[c.title," "]}," "]}});return{tag:"main",attrs:{id:"content",class:"column",role:"main"},children:[{tag:"section",attrs:{class:"section"},children:[{tag:"div",attrs:{class:"content"},children:[{tag:"article",attrs:{class:"node node--view-mode-full clearfix",about:"/aa-cc",
typeof:"schema:Article"},children:[{tag:"h1",attrs:{class:"title",id:"page-title"},children:[c.title()]},{tag:"div",attrs:{class:"node__meta"},children:[c.submitted()]},{tag:"div",attrs:{class:"node__content clearfix "},children:[{tag:"p",attrs:{},children:[d.trust(c.body())]}]},{tag:"div",attrs:{class:c.imageClass()+" image",onclick:c.toggleImageClass},children:[{tag:"img",attrs:{src:c.image()}},{tag:"h2",attrs:{},children:["Play"]}]},{tag:"div",attrs:{class:"clearfix field-type-taxonomy-term-reference"},
children:[{tag:"ul",attrs:{class:"links field-items"},children:[h]}]}]},{tag:"div",attrs:{class:"twitter"},children:["This blog is written by me, ",{tag:"a",attrs:{href:"https://twitter.com/orkj"},children:["eiriksm. Feel free to say hi on twitter."]}]},{tag:"div",attrs:{id:"disqus_thread"}}]}]}]}}},{mithril:12}],12:[function(l,g,m){(function(d,c){var h=c(d);"object"===typeof g&&null!=g&&g.exports?g.exports=h:"function"===typeof define&&define.amd?define(function(){return h}):d.m=h})("undefined"!==
typeof window?window:this,function(d,c){function h(a){return"function"===typeof a}function l(a){return"[object Object]"===K.call(a)}function g(a){return"[object String]"===K.call(a)}function m(){}function b(a,f){for(var e=[],b=1,c=arguments.length;b<c;b++)e[b-1]=arguments[b];if(l(a))return qa(a,e);if(!g(a))throw Error("selector in m(selector, attrs, children) should be a string");b=(c=null!=f&&l(f)&&!("tag"in f||"view"in f||"subtree"in f))?f:{};e=c?e.slice(1):e;e=1===e.length&&C(e[0])?e[0]:e;for(var e=
{tag:"div",attrs:{},children:e},c=e.attrs,k=[],t=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,n;n=t.exec(a);)""===n[1]&&n[2]?e.tag=n[2]:"#"===n[1]?e.attrs.id=n[2]:"."===n[1]?k.push(n[2]):"["===n[3][0]&&(n=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/.exec(n[3]),e.attrs[n[1]]=n[3]||"");var t="class"in b?"class":"className",d;for(d in b)D.call(b,d)&&(d===t&&null!=b[d]&&""!==b[d]?(k.push(b[d]),c[d]=""):c[d]=b[d]);k.length&&(c[t]=k.join(" "));return e}function p(a,f){for(var e=0;e<a.length&&!f(a[e],e++););}function A(a,f){p(a,
function(a,b){return(a=a&&a.attrs)&&null!=a.key&&f(a,b)})}function Da(a){for(var f=0;f<a.length;f++)C(a[f])&&(a=a.concat.apply([],a),f--);return a}function O(a,f,e){a.insertBefore(f,a.childNodes[e]||null)}function Ea(a,f,e,b){A(a,function(a,b){f[a=a.key]=f[a]?{action:3,index:b,from:f[a].index,element:e.nodes[f[a].index]||w.createElement("div")}:{action:2,index:b}});var c=[],k;for(k in f)D.call(f,k)&&c.push(f[k]);var c=c.sort(Fa),t=Array(e.length);t.nodes=e.nodes.slice();p(c,function(f){var c=f.index;
1===f.action&&(I(e[c].nodes,e[c]),t.splice(c,1));if(2===f.action){var k=w.createElement("div");k.key=a[c].attrs.key;O(b,k,c);t.splice(c,0,{attrs:{key:a[c].attrs.key},nodes:[k]});t.nodes[c]=k}if(3===f.action){var k=f.element,d=b.childNodes[c];d!==k&&null!==k&&b.insertBefore(k,d||null);t[c]=e[f.from];t.nodes[c]=k}});return t}function ea(a,f,e,b){var c=a.length!==f.length;c||A(a,function(a,e){var b=f[e];return c=b&&b.attrs&&b.attrs.key!==a.key});return c?Ea(a,e,f,b):f}function z(a,f,e){p(a,function(a,
b){null!=f[b]&&e.push.apply(e,f[b].nodes)});p(f.nodes,function(a,b){null!=a.parentNode&&0>e.indexOf(a)&&I([a],[f[b]])});a.length<f.length&&(f.length=a.length);f.nodes=e}function P(a){var f=0;A(a,function(){p(a,function(a){(a=a&&a.attrs)&&null==a.key&&(a.key="__mithril__"+f++)});return 1})}function Ga(a,f,e){return a.tag!==f.tag||e.sort().join()!==Object.keys(f.attrs).sort().join()||a.attrs.id!==f.attrs.id||a.attrs.key!==f.attrs.key?!0:"all"===b.redraw.strategy()?!f.configContext||!0!==f.configContext.retain:
"diff"===b.redraw.strategy()?f.configContext&&!1===f.configContext.retain:!1}function Ha(a,f,e){if(Ga(a,f,e)){f.nodes.length&&I(f.nodes);if(f.configContext&&h(f.configContext.onunload))f.configContext.onunload();f.controllers&&p(f.controllers,function(a){if(a.onunload)a.onunload({preventDefault:m})})}}function Ia(a,f,e){e.length&&(a.views=f,a.controllers=e,p(e,function(a){a.onunload&&a.onunload.$old&&(a.onunload=a.onunload.$old);if(J&&a.onunload){var f=a.onunload;a.onunload=m;a.onunload.$old=f}}))}
function Ja(a,f,e,b,c){if(h(f.attrs.config)){var k=c.configContext=c.configContext||{};a.push(function(){return f.attrs.config.call(f,e,!b,k,c)})}}function Ka(a){if(a.$trusted){if(a=a.match(/<[^\/]|\>\s*[^<]/g),null!=a)return a.length}else if(C(a))return a.length;return 1}function La(a,f,e,b,d,k,t,n,h){a=Da(a);var l=[],g=f.length===a.length,m=0,q={},p=!1;A(f,function(a,e){p=!0;q[f[e].attrs.key]={action:1,index:e}});P(a);p&&(f=ea(a,f,q,e));for(var w=0,v=0,y=a.length;v<y;v++){var C=X(e,d,f,b,a[v],f[w],
k,b+m||m,t,n,h);C!==c&&(g=g&&C.nodes.intact,m+=Ka(C),f[w++]=C)}g||z(a,f,l);return f}function Ma(a,f,e,b){null!=b.onunload&&0>Q.map(function(a){return a.handler}).indexOf(b.onunload)&&Q.push({controller:b,handler:b.onunload});a.push(e);f.push(b)}function X(a,f,e,d,r,k,t,n,B,m,u){a:{try{if(null!=r&&null!=r.toString())break a}catch(p){}r=""}if("retain"===r.subtree)return k;a:{var E=r;if(null!=k){if(K.call(k)===K.call(E))break a;e&&e.nodes?(d=n-d,k=d+(C(E)?E:k.nodes).length,I(e.nodes.slice(d,k),e.slice(d,
k))):k.nodes&&I(k.nodes,k)}k=new E.constructor;k.tag&&(k={});k.nodes=[]}if(C(r))return La(r,k,a,n,f,t,B,m,u);if(null!=r&&l(r)){e=k;E=m;f=[];m=[];var q=r;for(d=(r=e)&&r.controllers;null!=q.view;){k=q;var q=q.view.$original||q.view,x=d,y=m,A=f,z;z=r.views;var D=q,G=x,F=k.controller,H=void 0,H="diff"===b.redraw.strategy()&&z?z.indexOf(D):-1;z=-1<H?G[H]:h(F)?new F:{};D=k&&k.attrs&&k.attrs.key;k=0===J||fa||x&&-1<x.indexOf(z)?k.view(z):{tag:"placeholder"};"retain"!==k.subtree&&(k.attrs=k.attrs||{},k.attrs.key=
D,Ma(A,y,q,z));q=k}r=q;if("retain"===r.subtree)a=e;else{if(!r.tag&&m.length)throw Error("Component template must return a virtual element, not an array, string, etc.");r.attrs=r.attrs||{};e.attrs=e.attrs||{};d=Object.keys(r.attrs);k=d.length>("key"in r.attrs?1:0);Ha(r,e,d);g(r.tag)?(d=0===e.nodes.length,E=r.attrs.xmlns?r.attrs.xmlns:"svg"===r.tag?"http://www.w3.org/2000/svg":"math"===r.tag?"http://www.w3.org/1998/Math/MathML":E,d?(q=r,x=E,q=q.attrs.is?null==x?w.createElement(q.tag,q.attrs.is):w.createElementNS(x,
q.tag,q.attrs.is):null==x?w.createElement(q.tag):w.createElementNS(x,q.tag),x=r,k=k?ga(q,x.tag,x.attrs,{},E):x.attrs,O(a,q,n),x=r,x=null!=x.children&&0<x.children.length?X(q,x.tag,c,c,x.children,e.children,!0,0,x.attrs.contenteditable?q:B,E,u):x.children,B=r,e=q,k={tag:B.tag,attrs:k,children:x,nodes:[e]},Ia(k,f,m),k.children&&!k.children.nodes&&(k.children.nodes=[]),"select"===B.tag&&"value"in B.attrs&&ga(e,B.tag,{value:B.attrs.value},{},E),e=k):(q=e,x=r,y=q.nodes[0],k&&ga(y,x.tag,x.attrs,q.attrs,
E),q.children=X(y,x.tag,c,c,x.children,q.children,!1,0,x.attrs.contenteditable?y:B,E,u),q.nodes.intact=!0,m.length&&(q.views=f,q.controllers=m),q=y),d||!0!==t||null==q||O(a,q,n),Ja(u,r,q,d,e),a=e):a=void 0}return a}if(h(r))return k;m=k;u=r;if(m.nodes.length)if(m.valueOf()!==u.valueOf()||t){t=m.nodes;if(!B||B!==w.activeElement)if(u.$trusted)I(t,m),t=ra(a,n,u);else if("textarea"===f)a.value=u;else if(B)B.innerHTML=u;else{if(1===t[0].nodeType||1<t.length||t[0].nodeValue.trim&&!t[0].nodeValue.trim())I(m.nodes,
m),t=[w.createTextNode(u)];B=t[0];try{O(a,B,n),B.nodeValue=u}catch(p){}}m=new u.constructor(u);m.nodes=t;a=m}else a=(m.nodes.intact=!0,m);else u.$trusted?t=ra(a,n,u):(t=[w.createTextNode(u)],a.nodeName in Na||O(a,t[0],n)),a="string"===typeof u||"number"===typeof u||"boolean"===typeof u?new u.constructor(u):u,a.nodes=t;return a}function Fa(a,f){return a.action-f.action||a.index-f.index}function ga(a,f,e,b,c){for(var k in e)if(D.call(e,k)){var d=a,n=k,g=e[k],m=b[k],u=f,p=c;if(n in b&&m===g&&w.activeElement!==
d)"value"===n&&"input"===u&&d.value!==g&&(d.value=g);else{b[n]=g;try{if("config"!==n&&"key"!==n)if(h(g)&&"on"===n.slice(0,2))d[n]=Oa(g,d);else if("style"===n&&null!=g&&l(g)){p=d;d=g;u=m;n=void 0;for(n in d)!D.call(d,n)||null!=u&&u[n]===d[n]||(p.style[n]=d[n]);for(n in u)D.call(u,n)&&(D.call(d,n)||(p.style[n]=""))}else if(null!=p)"href"===n?d.setAttributeNS("http://www.w3.org/1999/xlink","href",g):d.setAttribute("className"===n?"class":n,g);else if(n in d&&!Pa[n])try{if("input"!==u||d[n]!==g)d[n]=
g}catch(q){d.setAttribute(n,g)}else d.setAttribute(n,g)}catch(q){if(0>q.message.indexOf("Invalid argument"))throw q;}}}return b}function I(a,f){for(var e=a.length-1;-1<e;e--)if(a[e]&&a[e].parentNode){try{a[e].parentNode.removeChild(a[e])}catch(b){}f=[].concat(f);f[e]&&ha(f[e])}a.length&&(a.length=0)}function ha(a){a.configContext&&h(a.configContext.onunload)&&(a.configContext.onunload(),a.configContext.onunload=null);a.controllers&&p(a.controllers,function(a){if(h(a.onunload))a.onunload({preventDefault:m})});
a.children&&(C(a.children)?p(a.children,ha):a.children.tag&&ha(a.children))}function sa(a){if("SCRIPT"===a.tagName)a.parentNode.replaceChild(Qa(a),a);else{var f=a.childNodes;if(f&&f.length)for(var e=0;e<f.length;e++)sa(f[e])}return a}function Qa(a){for(var f=document.createElement("script"),e=a.attributes,b=0;b<e.length;b++)f.setAttribute(e[b].name,e[b].value);f.text=a.innerHTML;return f}function ra(a,f,e){var b=a.childNodes[f];if(b){var c=1!==b.nodeType,d=w.createElement("span");c?(a.insertBefore(d,
b||null),d.insertAdjacentHTML("beforebegin",e),a.removeChild(d)):b.insertAdjacentHTML("beforebegin",e)}else try{a.appendChild(w.createRange().createContextualFragment(e))}catch(h){a.insertAdjacentHTML("beforeend",e),sa(a)}for(e=[];a.childNodes[f]!==b;)e.push(a.childNodes[f]),f++;return e}function Oa(a,f){return function(e){e=e||event;b.redraw.strategy("diff");b.startComputation();try{return a.call(f,e)}finally{ta()}}}function ia(a){var f=ja.indexOf(a);return 0>f?ja.push(a)-1:f}function Ra(a){function f(){arguments.length&&
(a=arguments[0]);return a}f.toJSON=function(){return a};return f}function qa(a,f){function e(){return(a.controller||m).apply(this,f)||this}function b(e){for(var c=[e].concat(f),d=1;d<arguments.length;d++)c.push(arguments[d]);return a.view.apply(a,c)}a.controller&&(e.prototype=a.controller.prototype);b.$original=a.view;var c={controller:e,view:b};f[0]&&null!=f[0].key&&(c.attrs={key:f[0].key});return c}function Sa(a,f,e,c){if(c)null==a&&ua(f,e);else{b.redraw.strategy("all");b.startComputation();R[e]=
f;c=a?ka=a:ka=a={controller:m};var d=new (a.controller||m);c===ka&&(G[e]=d,la[e]=a);ta();null===a&&ua(f,e);return G[e]}}function ua(a,f){R.splice(f,1);G.splice(f,1);la.splice(f,1);va(a);ja.splice(ia(a),1)}function wa(){L&&(L(),L=null);p(R,function(a,f){var e=la[f];if(G[f]){var c=[G[f]];b.render(a,e.view?e.view(G[f],c):"")}});S&&(S(),S=null);H=null;xa=new Date;b.redraw.strategy("diff")}function ta(){"none"===b.redraw.strategy()?(J--,b.redraw.strategy("diff")):b.endComputation()}function Ta(a,f,e){M=
{};var c=e.indexOf("?");-1!==c&&(M=Y(e.substr(c+1,e.length)),e=e.substr(0,c));var c=Object.keys(f),d=c.indexOf(e);if(-1!==d)return b.mount(a,f[c[d]]),!0;for(var k in f)if(D.call(f,k)){if(k===e)return b.mount(a,f[k]),!0;c=new RegExp("^"+k.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(c.test(e))return e.replace(c,function(){var e=k.match(/:[^\/]+/g)||[],c=[].slice.call(arguments,1,-2);p(e,function(a,f){M[a.replace(/:|\./g,"")]=decodeURIComponent(c[f])});b.mount(a,f[k])}),
!0}}function Z(a){a=a||event;if(!(a.ctrlKey||a.metaKey||a.shiftKey||2===a.which)){a.preventDefault?a.preventDefault():a.returnValue=!1;a=a.currentTarget||a.srcElement;var f;for(f="pathname"===b.route.mode&&a.search?Y(a.search.slice(1)):{};a&&!/a/i.test(a.nodeName);)a=a.parentNode;J=0;b.route(a[b.route.mode].slice(N[b.route.mode].length),f)}}function ya(){"hash"!==b.route.mode&&F.hash?F.hash=F.hash:d.scrollTo(0,0)}function T(a,f){var e={},b=[],d;for(d in a)if(D.call(a,d)){var k=f?f+"["+d+"]":d,h=a[d];
if(null===h)b.push(encodeURIComponent(k));else if(l(h))b.push(T(h,k));else if(C(h)){var n=[];e[k]=e[k]||{};p(h,function(a){e[k][a]||(e[k][a]=!0,n.push(encodeURIComponent(k)+"="+encodeURIComponent(a)))});b.push(n.join("&"))}else h!==c&&b.push(encodeURIComponent(k)+"="+encodeURIComponent(h))}return b.join("&")}function Y(a){if(""===a||null==a)return{};"?"===a.charAt(0)&&(a=a.slice(1));a=a.split("&");var f={};p(a,function(a){var b=a.split("=");a=decodeURIComponent(b[0]);b=2===b.length?decodeURIComponent(b[1]):
null;null!=f[a]?(C(f[a])||(f[a]=[f[a]]),f[a].push(b)):f[a]=b});return f}function va(a){var f=ia(a);I(a.childNodes,U[f]);U[f]=c}function aa(a,f){var e=b.prop(f);a.then(e);e.then=function(b,e){return aa(a.then(b,e),f)};e.catch=e.then.bind(null,null);return e}function ma(a,f){function e(a){g=a||za;m.map(function(a){g===ba?a.resolve(n):a.reject(n)})}function c(a,f,e,d){if((null!=n&&l(n)||h(n))&&h(a))try{var k=0;a.call(n,function(a){k++||(n=a,f())},function(a){k++||(n=a,e())})}catch(g){b.deferred.onerror(g),
n=g,e()}else d()}function d(){var l;try{l=n&&n.then}catch(m){return b.deferred.onerror(m),n=m,g=V,d()}if(g===V)b.deferred.onerror(n);c(l,function(){g=W;d()},function(){g=V;d()},function(){try{g===W&&h(a)?n=a(n):g===V&&h(f)&&(n=f(n),g=W)}catch(d){return b.deferred.onerror(d),n=d,e()}n===k?(n=TypeError(),e()):c(l,function(){e(ba)},e,function(){e(g===W&&ba)})})}var k=this,g=0,n=0,m=[];k.promise={};k.resolve=function(a){g||(n=a,g=W,d());return k};k.reject=function(a){g||(n=a,g=V,d());return k};k.promise.then=
function(a,f){var b=new ma(a,f);g===ba?b.resolve(n):g===za?b.reject(n):m.push(b);return b.promise}}function Ua(a){return a}function Va(a){var f=a.callbackName||"mithril_callback_"+(new Date).getTime()+"_"+Math.round(1E16*Math.random()).toString(36),b=w.createElement("script");d[f]=function(g){b.parentNode.removeChild(b);a.onload({type:"load",target:{responseText:g}});d[f]=c};b.onerror=function(){b.parentNode.removeChild(b);a.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}});
d[f]=c;return!1};b.onload=function(){return!1};b.src=a.url+(0<a.url.indexOf("?")?"&":"?")+(a.callbackKey?a.callbackKey:"callback")+"="+f+"&"+T(a.data||{});w.body.appendChild(b)}function Wa(a){var b=new d.XMLHttpRequest;b.open(a.method,a.url,!0,a.user,a.password);b.onreadystatechange=function(){if(4===b.readyState)if(200<=b.status&&300>b.status)a.onload({type:"load",target:b});else a.onerror({type:"error",target:b})};a.serialize===JSON.stringify&&a.data&&"GET"!==a.method&&b.setRequestHeader("Content-Type",
"application/json; charset=utf-8");a.deserialize===JSON.parse&&b.setRequestHeader("Accept","application/json, text/*");if(h(a.config)){var e=a.config(b,a);null!=e&&(b=e)}if((e="GET"!==a.method&&a.data?a.data:"")&&!g(e)&&e.constructor!==d.FormData)throw Error("Request data should be either be a string or FormData. Check the `serialize` option in `m.request`");b.send(e);return b}function Xa(a){return a.dataType&&"jsonp"===a.dataType.toLowerCase()?Va(a):Wa(a)}function Ya(a,b,e){"GET"===a.method&&"jsonp"!==
a.dataType?(e=0>a.url.indexOf("?")?"?":"&",b=T(b),a.url+=b?e+b:""):a.data=e(b)}function Za(a,b){b&&(a=a.replace(/:[a-z]\w+/gi,function(a){var c=a.slice(1);a=b[c]||a;delete b[c];return a}));return a}b.version=function(){return"v0.2.5"};var D={}.hasOwnProperty,K={}.toString,C=Array.isArray||function(a){return"[object Array]"===K.call(a)},Na={AREA:1,BASE:1,BR:1,COL:1,COMMAND:1,EMBED:1,HR:1,IMG:1,INPUT:1,KEYGEN:1,LINK:1,META:1,PARAM:1,SOURCE:1,TRACK:1,WBR:1},w,F,ca,Aa;b.deps=function(a){a=d=a||window;
w=a.document;F=a.location;Aa=a.cancelAnimationFrame||a.clearTimeout;ca=a.requestAnimationFrame||a.setTimeout;return d};b.deps(d);var J=0;b.startComputation=function(){J++};b.endComputation=function(){1<J?J--:(J=0,b.redraw())};var Q=[],fa=!1,Pa={list:1,style:1,form:1,type:1,width:1,height:1},Ba,$a={appendChild:function(a){Ba===c&&(Ba=w.createElement("html"));w.documentElement&&w.documentElement!==a?w.replaceChild(a,w.documentElement):w.appendChild(a);this.childNodes=w.childNodes},insertBefore:function(a){this.appendChild(a)},
childNodes:[]},ja=[],U={};b.render=function(a,b,e){if(!a)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var d=[],g=ia(a),k=a===w,h;h=k||a===w.documentElement?$a:a;k&&"html"!==b.tag&&(b={tag:"html",attrs:{},children:b});U[g]===c&&I(h.childNodes);!0===e&&va(a);U[g]=X(h,null,c,c,b,U[g],!1,0,null,c,d);p(d,function(a){a()})};b.trust=function(a){a=new String(a);a.$trusted=!0;return a};b.prop=function(a){return(null!=a&&(l(a)||h(a))||"undefined"!==typeof Promise&&
a instanceof Promise)&&h(a.then)?aa(a):Ra(a)};var R=[],la=[],G=[],H=null,xa=0,L=null,S=null,ka;b.component=function(a){for(var b=Array(arguments.length-1),c=1;c<arguments.length;c++)b[c-1]=arguments[c];return qa(a,b)};b.mount=b.module=function(a,b){if(!a)throw Error("Please ensure the DOM element exists before rendering a template into it.");var c=R.indexOf(a);0>c&&(c=R.length);var d=!1,g={preventDefault:function(){d=!0;L=S=null}};p(Q,function(a){a.handler.call(a.controller,g);a.controller.onunload=
null});d?p(Q,function(a){a.controller.onunload=a.handler}):Q=[];if(G[c]&&h(G[c].onunload))G[c].onunload(g);return Sa(b,a,c,d)};var na=!1;b.redraw=function(a){if(!na){na=!0;a&&(fa=!0);try{if(H&&!a){if(ca===d.requestAnimationFrame||16<new Date-xa)0<H&&Aa(H),H=ca(wa,16)}else wa(),H=ca(function(){H=null},16)}finally{na=fa=!1}}};b.redraw.strategy=b.prop();b.withAttr=function(a,b,c){return function(d){d=d||window.event;var g=d.currentTarget||this;d=c||this;g=a in g?g[a]:g.getAttribute(a);b.call(d,g)}};
var N={pathname:"",hash:"#",search:"?"},oa=m,pa=!1,M,y;b.route=function(a,c,e,h){if(0===arguments.length)return y;if(3===arguments.length&&g(c)){oa=function(d){d=y=d.slice(N[b.route.mode].length);if(!Ta(a,e,d)){if(pa)throw Error("Ensure the default route matches one of the routes defined in m.route");pa=!0;b.route(c,!0);pa=!1}};var l="hash"===b.route.mode?"onhashchange":"onpopstate";d[l]=function(){var a=F[b.route.mode];"pathname"===b.route.mode&&(a+=F.search);y!==a.slice(N[b.route.mode].length)&&
oa(a)};L=ya;d[l]()}else if(a.addEventListener||a.attachEvent)a.href=("pathname"!==b.route.mode?F.pathname:"")+N[b.route.mode]+h.attrs.href,a.addEventListener?(a.removeEventListener("click",Z),a.addEventListener("click",Z)):(a.detachEvent("onclick",Z),a.attachEvent("onclick",Z));else if(g(a)){l=y;y=a;var k=c||{},m=y.indexOf("?"),n;n=-1<m?Y(y.slice(m+1)):{};for(var p in k)D.call(k,p)&&(n[p]=k[p]);k=T(n);m=-1<m?y.slice(0,m):y;k&&(y=m+(-1===m.indexOf("?")?"?":"&")+k);l=!0===(3===arguments.length?e:c)||
l===a;if(d.history.pushState){var v=l?"replaceState":"pushState";L=ya;S=function(){try{d.history[v](null,w.title,N[b.route.mode]+y)}catch(a){F[b.route.mode]=y}}}else F[b.route.mode]=y;oa(N[b.route.mode]+y)}};b.route.param=function(a){if(!M)throw Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return a?M[a]:M};b.route.mode="search";b.route.buildQueryString=T;b.route.parseQueryString=Y;b.deferred=function(){var a=new ma;a.promise=aa(a.promise);return a};
var W=1,V=2,ba=3,za=4;b.deferred.onerror=function(a){if("[object Error]"===K.call(a)&&!/ Error/.test(a.constructor.toString()))throw J=0,a;};b.sync=function(a){function c(a,b){return function(c){h[a]=c;b||(k="reject");0===--g&&(d.promise(h),d[k](h));return c}}var d=b.deferred(),g=a.length,h=[],k="resolve";0<a.length?p(a,function(a,b){a.then(c(b,!0),c(b,!1))}):d.resolve([]);return d.promise};b.request=function(a){!0!==a.background&&b.startComputation();var c=new ma,d,g,h;a.dataType&&"jsonp"===a.dataType.toLowerCase()?
(d=a.serialize=g=a.deserialize=Ua,h=function(a){return a.responseText}):(d=a.serialize=a.serialize||JSON.stringify,g=a.deserialize=a.deserialize||JSON.parse,h=a.extract||function(a){return a.responseText.length||g!==JSON.parse?a.responseText:null});a.method=(a.method||"GET").toUpperCase();a.url=Za(a.url,a.data);Ya(a,a.data,d);a.onload=a.onerror=function(d){try{d=d||event;var e=g(h(d.target,a));"load"===d.type?(a.unwrapSuccess&&(e=a.unwrapSuccess(e,d.target)),C(e)&&a.type?p(e,function(b,c){e[c]=new a.type(b)}):
a.type&&(e=new a.type(e)),c.resolve(e)):(a.unwrapError&&(e=a.unwrapError(e,d.target)),c.reject(e))}catch(l){c.reject(l),b.deferred.onerror(l)}finally{!0!==a.background&&b.endComputation()}};Xa(a);c.promise=aa(c.promise,a.initialValue);return c.promise};return b})},{}]},{},[1]);
