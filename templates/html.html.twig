{#
/**
 * @file
 * html template for orkjern_theme.
#}
<!DOCTYPE html>
<html{{ html_attributes }}>
  <head>
    {{ head }}
    <title>{{ head_title }}</title>
  </head>
  {% if is_admin %}
    {{ styles }}
    {{ scripts }}
  {% endif %}
  {% if not has_css %}
    <style>.comment-count a,.image,.logo-wrapper{text-align:center}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}table{border-collapse:collapse;border-spacing:0}.skip-link,.skip-link.visually-hidden.focusable{left:50%;margin-left:-5.25em;margin-top:0;position:absolute!important;width:auto;z-index:50;clip:rect(1px,1px,1px,1px)}.skip-link.visually-hidden.focusable:active,.skip-link.visually-hidden.focusable:focus,.skip-link.visually-hidden.focusable:hover,.skip-link:active,.skip-link:focus,.skip-link:hover{outline:0;clip:auto;overflow:visible;height:auto}.skip-link,.skip-link:link,.skip-link:visited{background:#444;background:rgba(0,0,0,.6);color:#fff;display:inline-block;font-size:.94em;line-height:1.7;padding:1px 10px 2px;text-decoration:none;border-radius:0 0 10px 10px}body{-webkit-font-smoothing:antialiased;font-family:Helvetica,Arial,sans-serif;color:#424242;font-size:18px;letter-spacing:-.1px;line-height:1.55556em}a{text-decoration:none;color:#00546B;border-bottom:1px solid #00a4d1}p{margin:1em 0}.climacon{height:310px}#page-wrapper{max-width:640px;margin:auto;padding:10px;overflow:hidden}.climacon_component-fill{fill:#424242}.svg-wrapper{margin:auto;z-index:-2;position:absolute;width:100%;top:-100px}#header{position:relative;height:140px}.logo-wrapper .letters{display:block;line-height:1;padding-top:25px;padding-right:52px;margin:auto;z-index:1;color:#fff;top:-10px;width:90px;left:-26px}.climacon_wrapperComponent-lightning{-webkit-animation:lightning 3s infinite;animation:lightning 3s infinite}@-webkit-keyframes lightning{from{opacity:1}to{opacity:0}}@keyframes lightning{from{opacity:1}to{opacity:0}}h1{font-size:2em}code,pre{font-family:monospace;background:#eee;overflow-x:scroll}gist{display:none}gist.processed{display:block}.views-field-path{display:none}.views-field-title,.views-field-title-1,h2,h2.node__title{font-size:1.5em;margin-top:1em}.views-field-title a,.views-field-title span,.views-field-title-1 a,.views-field-title-1 span,h2 a,h2 span,h2.node__title a,h2.node__title span{color:#424242;border-bottom:1px solid #fff;-webkit-transition:border .5s;transition:border .5s}.views-field-title a:hover,.views-field-title span:hover,.views-field-title-1 a:hover,.views-field-title-1 span:hover,h2 a:hover,h2 span:hover,h2.node__title a:hover,h2.node__title span:hover{border-bottom:1px solid #00a4d1}ul{list-style-type:disc;list-style-position:inside;margin:1em 0}ol li,ul li{margin-left:1em}.node__meta,.views-field-created{font-size:.8em;color:#616161;padding:1em 0}.node__content{padding:10px 0}article{margin:2em 0}.read-more,.views-field-view-node{display:inline-block}.read-more a,.views-field-view-node a{background:#00546B;padding:5px;border-radius:3px;display:inline-block;margin:1em 0;border:0;color:#fff;-webkit-transition:background .5s;transition:background .5s}.read-more a:hover,.views-field-view-node a:hover{background:#002c38}.field-node--field-tags h3,.field-type-taxonomy-term-reference h3,.views-field-field-tags .views-label{display:none}.field-node--field-tags .field-item,.field-node--field-tags li,.field-type-taxonomy-term-reference .field-item,.field-type-taxonomy-term-reference li{display:inline-block;margin:0}.field-node--field-tags .field-item a,.field-node--field-tags li a,.field-type-taxonomy-term-reference .field-item a,.field-type-taxonomy-term-reference li a{padding:5px;display:inline-block;border-radius:3px;background:#75B08A;margin:2px 0;color:#fff;border:0;-webkit-transition:background .5s;transition:background .5s}.field-node--field-tags .field-item a:hover,.field-node--field-tags li a:hover,.field-type-taxonomy-term-reference .field-item a:hover,.field-type-taxonomy-term-reference li a:hover{background:#589a70}.image{margin:auto}.image:hover{cursor:pointer}.image.noplay{background:#F0E797;border-radius:3px;height:100px;width:200px}.image.noplay img{display:none}.image.noplay h2{margin:.6em 0;color:#00546B;padding:5px 10px;border-radius:3px;background:#fff;display:inline-block}.image h2,.image.hide{display:none}.comment-count{display:inline-block}.comment-count a{position:relative;display:block;background-color:#FF9D84;margin:0 0 0 15px;padding:5px 0;width:110px;border:0}.comment-count a:after{display:block;content:"";border-color:transparent #FF9D84 transparent transparent;border-style:solid;border-width:10px;height:0;width:0;position:absolute;bottom:9px;left:-19px}.comment-count a:empty{display:none}.view-front-reset .views-row{margin:2em 0}</style>
  {% endif %}
  <body{{ attributes }}>
    <a href="#main-content" class="visually-hidden focusable skip-link">
      {{ 'Skip to main content'|t }}
    </a>
    {{ page_top }}
    {{ page }}
    {{ page_bottom }}
    {% if has_css %}
      <script>(function e$$0(g,n,h){function k(m,aa){if(!n[m]){if(!g[m]){var b="function"==typeof require&&require;if(!aa&&b)return b(m,!0);if(l)return l(m,!0);b=Error("Cannot find module '"+m+"'");throw b.code="MODULE_NOT_FOUND",b;}b=n[m]={exports:{}};g[m][0].call(b.exports,function(b){var l=g[m][1][b];return k(l?l:b)},b,b.exports,e$$0,g,n,h)}return n[m].exports}for(var l="function"==typeof require&&require,m=0;m<h.length;m++)k(h[m]);return k})({1:[function(f,g,n){f=f("./src/app");g=f.getLsOrKickOut(window);try{var h=
g.getItem("orkjern_theme_cache");if(!h)throw Error("Have no cache data");var k=JSON.parse(h);if(!k)throw Error("Can not parse data");if(!k["{{cache_key}}"])throw Error("Have old cache");f.appendCss(k["{{cache_key}}"],window)}catch(l){g.clear("orkjern_theme_cache"),document.cookie="ORKJERN_THEME_CACHE=123",window.location.reload()}f.init(window)},{"./src/app":2}],2:[function(f,g,n){var h=f("mithril"),k=f("./booter"),l=f("./disqus"),m=f("./gist"),r=f("./controllers/node"),aa=f("./controllers/index"),
b=f("./controllers/taxonomy");g.exports={appendCss:function(b,k){var m=k.document,l=m.getElementsByTagName("head")[0],r=m.createElement("style");r.type="text/css";r.styleSheet?r.styleSheet.cssText=b:r.appendChild(m.createTextNode(b));return l.appendChild(r)},getLsOrKickOut:function(b){var k=b.localStorage;if(!k){if(b.navigator&&b.navigator.userAgent&&b.navigator.userAgent.match(/Twitter/))return!1;b.alert("Your browser is bad, and you should feel bad. You are not welcome here. You will be redirected to a place where you can upgrade your browser.");
b.location.href="http://browsehappy.com/";return!1}return k},init:function(f){var C={window:f,m:h};f.test&&h.deps(f);var g=f.document;h.route.mode="pathname";C.controllers={index:new aa(C),node:r,taxonomy:new b(C)};C.booter=new k(C);C.booter.attach();l(C.window);m(C.window);f.disqus_shortname="{{ disqus_shortname }}";if(!f.disqus_shortname||!f.disqus_shortname.length)return C;f.DISQUSWIDGETS=void 0;if(g.querySelectorAll&&0===g.querySelectorAll("a[data-disqus-identifier]").length)for(var x=g.querySelectorAll(".views-field-view-node a"),
n=0,T=x.length;n<T;n++){var O=g.createElement("div");O.className="comment-count";var K=g.createElement("a");K.href=x[n].pathname;K.setAttribute("data-disqus-identifier",x[n].pathname);O.appendChild(K);x[n].parentNode.parentNode.parentNode.insertBefore(O,x[n].parentNode.parentNode.nextSibling)}x=g.createElement("script");x.async=!0;x.type="text/javascript";x.src="//"+f.disqus_shortname+".disqus.com/count.js";(g.getElementsByTagName("HEAD")[0]||g.getElementsByTagName("BODY")[0]).appendChild(x);return C}}},
{"./booter":3,"./controllers/index":4,"./controllers/node":5,"./controllers/taxonomy":6,"./disqus":7,"./gist":8,mithril:12}],3:[function(f,g,n){function h(k){this.app=k;this.window=k.window;var l=k.controllers.index,m=k.controllers.node;k=k.controllers.taxonomy;this.booted=!1;this.routeConf={};this.routeConf["/"]=l;this.routeConf["/node"]=l;this.routeConf["/:alias"]=m;this.routeConf["/node/:nid"]=m;this.routeConf["/taxonomy/term/:tid"]=k;var r=this.app.m;this.m=r;var l=this.window.document,f=this;
this.startFunction=function(){var b=this.getAttribute("href");f.navigate(b);return!1};if(l=l.getElementById("logo"))l.onclick=function(){"/"!==r.route()&&f.navigate("/");return!1}}g.exports=h;h.prototype.attach=function(k){var l=this.window.document;if(l&&l.querySelectorAll){k=l.querySelectorAll(k||"#main-wrapper a");for(var l=0,m=k.length;l<m;l++)k[l].onclick=this.startFunction}};h.prototype.navigate=function(k){var l=this.window;!this.booted&&l&&l.document&&(this.m.route(l.document.getElementById("main-wrapper"),
k,this.routeConf),this.booted=!0);this.m.route(k)};h.prototype.navigateEl=function(k,l){var m=k.getAttribute("href");l.navigate(m);return!1}},{}],4:[function(f,g,n){n=f("../views/index");var h=f("../http"),k={},l=function(k){var l=k.m;return function(){var f=k.window,b=this;this.nodes=l.prop([]);h("node").then(function(l){b.nodes=l;setTimeout(function(){k.booter.attach(".field-type-taxonomy-term-reference a")},2);var r=k.window.document;f.DISQUSWIDGETS=void 0;f.disqus_shortname&&function(){var b=
r.createElement("script");b.async=!0;b.type="text/javascript";b.src="//"+f.disqus_shortname+".disqus.com/count.js";(r.getElementsByTagName("HEAD")[0]||r.getElementsByTagName("BODY")[0]).appendChild(b)}()});this.navigate=function(b){k.booter.navigateEl(b,k.booter)}}};k.view=n;g.exports=function(m){k.app=m;k.controller=new l(m);return k}},{"../http":9,"../views/index":10}],5:[function(f,g,n){var h=f("mithril");n=f("../views/node");var k=f("../http"),l=f("../gist"),m=f("../disqus");f={controller:function(){var r=
this;this.title=h.prop("");this.body=h.prop("Loading...");this.raw=h.prop({});this.image=h.prop("about:blank");r.submitted=h.prop("");var f;this.imageClass=h.prop("noplay");this.toggleImageClass=function(){h.startComputation();r.imageClass("play");f&&r.image(f);h.endComputation()};var b=h.route.param("alias"),g=h.route.param("nid");if(!b){if(!g){h.route("/");return}b="node/"+g}k(b).then(function(b){if(b){var k=new Date(1E3*b.created[0].value);r.title(b.title[0].value);r.body(b.body[0].value);r.submitted("Submitted "+
k.toLocaleDateString());for(var h in b._links)1>h.indexOf("image")||!b._links.hasOwnProperty(h)||!h.indexOf("image")||(f=b._links[h][0].href);r.raw=b;setTimeout(function(){l(window)},200);window.disqus_shortname="{{ disqus_shortname }}";setTimeout(function(){m(window)},200)}},function(b){404===b&&(r.title("404 not found!"),r.body("The page you are looking for is nowhere to be found. Real sorry about that!"),r.imageClass("hide"));403===b&&(r.title("403 Forbidden!"),r.body("You are not allowed to access this page. I am guessing you already knew that!"))})}};
f.view=n;g.exports=f},{"../disqus":7,"../gist":8,"../http":9,"../views/node":11,mithril:12}],6:[function(f,g,n){n=f("../views/index");var h=f("../http"),k={},l=function(k){var l=k.m;return function(){var f=this;this.nodes=l.prop([]);var b=l.route.param("tid");h("api/taxonomy/term/"+b).then(function(b){b.map(function(b){b.body=""});f.nodes=b;window.disqus_shortname="{{ disqus_shortname }}";setTimeout(function(){k.booter.attach(".field-type-taxonomy-term-reference a")},2);window.disqus_shortname&&window.disqus_shortname.length&&
(window.DISQUSWIDGETS=void 0,function(){var b=document.createElement("script");b.async=!0;b.type="text/javascript";b.src="//"+window.disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(b)}())});this.navigate=function(b){k.booter.navigateEl(b,k.booter)}}};k.view=n;g.exports=function(m){k.controller=new l(m);return k}},{"../http":9,"../views/index":10}],7:[function(f,g,n){var h=f("mithril");g.exports=function(k){var l=
k.document;"undefined"===typeof h&&(h=k.m);var m=function(){if(k.disqus_shortname)if(k.disqus_identifier=h.route(),k.disqus_identifier||(k.disqus_identifier=k.location.pathname),k.disqus_loaded)k.DISQUS.reset({reload:!0,config:function(){this.page.identifier=k.disqus_identifier;this.page.url=k.location.origin+k.disqus_identifier}});else{k.disqus_loaded=!0;var b=l.createElement("script");b.type="text/javascript";b.async=!0;b.src="//"+k.disqus_shortname+".disqus.com/embed.js?url="+k.disqus_identifier;
(l.getElementsByTagName("head")[0]||l.getElementsByTagName("body")[0]).appendChild(b)}},f=l.getElementById("disqus_thread"),g=!1;k.onscroll=function(){f||(f=l.getElementById("disqus_thread"));!g&&k.scrollY&&f&&f.offsetTop&&k.innerHeight&&k.scrollY+k.innerHeight+50>f.offsetTop&&(g=!0,m())}}},{mithril:12}],8:[function(f,g,n){g.exports=function(f){for(var k=f.document,l=function(b,m){var l="gist_callback"+Math.floor(1E3*Math.random()),g=k.createElement("script");g.setAttribute("src","https://gist.github.com/"+
m+".json?callback="+l);f[l]=function(k){delete f[l];var m='<link href="'+k.stylesheet+'" rel="stylesheet">',m=m+k.div;b.innerHTML=m;g.parentNode.removeChild(g);b.className+="processed"};k.body.appendChild(g)},m=k.getElementsByTagName("gist"),r=0,g=m.length;r<g;r++){var b=m[r];b.className&&-1<b.className.indexOf("processed")||l(b,b.innerHTML)}}},{}],9:[function(f,g,n){g.exports=function(k){return h.request({method:"GET",url:"/"+k+"?_format=hal_json",config:function(k){k.setRequestHeader("Accept","application/hal+json")},
extract:function(k){return 200===k.status?k.responseText:JSON.stringify(k.status)},deserialize:function(k){var f;try{f=JSON.parse(k)}catch(g){f=""}return f}})};var h=f("mithril")},{mithril:12}],10:[function(f,g,n){var h=f("mithril");g.exports=function(k){var f=function(f){return{tag:"article",attrs:{class:"node node--view-mode-teaser clearfix",about:"/aa-cc",typeof:"schema:Article"},children:[{tag:"h2",attrs:{class:"node__title "},children:[{tag:"a",attrs:{href:f.path,onclick:function(){k.navigate(this);
return!1}},children:[f.title]}]},{tag:"div",attrs:{class:"node__meta"},children:["Post date: ",f.created]},{tag:"div",attrs:{class:"read-more"},children:[{tag:"a",attrs:{href:f.path,onclick:function(){k.navigate(this);return!1}},children:["Read more"]}]},{tag:"div",attrs:{class:"comment-count"},children:[{tag:"a",attrs:{"data-disqus-identifier":f.path,href:f.path,onclick:function(){k.navigate(this);return!1}}}]},h.trust(f.field_tags)]}};return{tag:"main",attrs:{id:"content",class:"column",role:"main"},
children:[{tag:"section",attrs:{class:"section"},children:[{tag:"div",attrs:{class:"content"},children:[{tag:"div",attrs:{},children:[k.nodes.map?k.nodes.map(f):""]}]}]}]}}},{mithril:12}],11:[function(f,g,n){var h=f("mithril");g.exports=function(k){return{tag:"main",attrs:{id:"content",class:"column",role:"main"},children:[{tag:"section",attrs:{class:"section"},children:[{tag:"div",attrs:{class:"content"},children:[{tag:"article",attrs:{class:"node node--view-mode-full clearfix",about:"/aa-cc",typeof:"schema:Article"},
children:[{tag:"h1",attrs:{class:"title",id:"page-title"},children:[k.title()]},{tag:"div",attrs:{class:"node__meta"},children:[k.submitted()]},{tag:"div",attrs:{class:"node__content clearfix "},children:[{tag:"p",attrs:{},children:[h.trust(k.body())]}]},{tag:"div",attrs:{class:k.imageClass()+" image",onclick:k.toggleImageClass},children:[{tag:"img",attrs:{src:k.image()}},{tag:"h2",attrs:{},children:["Play"]}]}]},{tag:"div",attrs:{class:"twitter"},children:["This blog is written by me, ",{tag:"a",
attrs:{href:"https://twitter.com/orkj"},children:["eiriksm. Feel free to say hi on twitter."]}]},{tag:"div",attrs:{id:"disqus_thread"}}]}]}]}}},{mithril:12}],12:[function(f,g,n){var h=function l(f,g){function h(a){w=a.document;G=a.location;ia=a.cancelAnimationFrame||a.clearTimeout;U=a.requestAnimationFrame||a.setTimeout}function b(){var a=[].slice.call(arguments),b=null!=a[1]&&"[object Object]"===y.call(a[1])&&!("tag"in a[1]||"view"in a[1])&&!("subtree"in a[1]),c=b?a[1]:{},q="class"in c?"class":"className",
e={tag:"div",attrs:{}},d,f=[];if("[object String]"!=y.call(a[0]))throw Error("selector in m(selector, attrs, children) should be a string");for(;d=qa.exec(a[0]);)""===d[1]&&d[2]?e.tag=d[2]:"#"===d[1]?e.attrs.id=d[2]:"."===d[1]?f.push(d[2]):"["===d[3][0]&&(d=ra.exec(d[3]),e.attrs[d[1]]=d[3]||(d[2]?"":!0));a=b?a.slice(2):a.slice(1);1===a.length&&"[object Array]"===y.call(a[0])?e.children=a[0]:e.children=a;for(var g in c)c.hasOwnProperty(g)&&(g===q&&null!=c[g]&&""!==c[g]?(f.push(c[g]),e.attrs[g]=""):
e.attrs[g]=c[g]);0<f.length&&(e.attrs[q]=f.join(" "));return e}function n(a,D,c,q,e,d,f,E,l,h,m){try{if(null==e||null==e.toString())e=""}catch(B){e=""}if("retain"===e.subtree)return d;var t=y.call(d),u=y.call(e);if(null==d||t!==u)null!=d&&(c&&c.nodes?(q=E-q,d=q+("[object Array]"===u?e:d.nodes).length,x(c.nodes.slice(q,d),c.slice(q,d))):d.nodes&&x(d.nodes,d)),d=new e.constructor,d.tag&&(d={}),d.nodes=[];if("[object Array]"===u){c=0;for(var p=e.length;c<p;c++)"[object Array]"===y.call(e[c])&&(e=e.concat.apply([],
e),c--,p=e.length);u=[];q=d.length===e.length;var t=0,v={},z=!1;for(c=0;c<d.length;c++)d[c]&&d[c].attrs&&null!=d[c].attrs.key&&(z=!0,v[d[c].attrs.key]={action:1,index:c});var A=0;c=0;for(p=e.length;c<p;c++)if(e[c]&&e[c].attrs&&null!=e[c].attrs.key){c=0;for(p=e.length;c<p;c++)e[c]&&e[c].attrs&&null==e[c].attrs.key&&(e[c].attrs.key="__mithril__"+A++);break}if(z){p=!1;if(e.length!=d.length)p=!0;else for(c=0;z=d[c],A=e[c];c++)if(z.attrs&&A.attrs&&z.attrs.key!=A.attrs.key){p=!0;break}if(p){c=0;for(p=e.length;c<
p;c++)e[c]&&e[c].attrs&&null!=e[c].attrs.key&&(z=e[c].attrs.key,v[z]=v[z]?{action:3,index:c,from:v[z].index,element:d.nodes[v[z].index]||w.createElement("div")}:{action:2,index:c});c=[];for(var F in v)c.push(v[F]);F=c.sort(C);v=Array(d.length);v.nodes=d.nodes.slice();for(c=0;p=F[c];c++)1===p.action&&(x(d[p.index].nodes,d[p.index]),v.splice(p.index,1)),2===p.action&&(z=w.createElement("div"),z.key=e[p.index].attrs.key,a.insertBefore(z,a.childNodes[p.index]||null),v.splice(p.index,0,{attrs:{key:e[p.index].attrs.key},
nodes:[z]}),v.nodes[p.index]=z),3===p.action&&(a.childNodes[p.index]!==p.element&&null!==p.element&&a.insertBefore(p.element,a.childNodes[p.index]||null),v[p.index]=d[p.from],v.nodes[p.index]=p.element);d=v}}F=c=0;for(p=e.length;c<p;c++)v=n(a,D,d,E,e[c],d[F],f,E+t||t,l,h,m),v!==g&&(v.nodes.intact||(q=!1),t=v.$trusted?t+(v.match(/<[^\/]|\>\s*[^<]/g)||[0]).length:t+("[object Array]"===y.call(v)?v.length:1),d[F++]=v);if(!q){c=0;for(p=e.length;c<p;c++)null!=d[c]&&u.push.apply(u,d[c].nodes);for(c=0;q=
d.nodes[c];c++)null!=q.parentNode&&0>u.indexOf(q)&&x([q],[d[c]]);e.length<d.length&&(d.length=e.length);d.nodes=u}}else if(null!=e&&"[object Object]"===u){u=[];for(D=[];e.view;){c=e.view.$original||e.view;q="diff"==b.redraw.strategy()&&d.views?d.views.indexOf(c):-1;t=-1<q?d.controllers[q]:new (e.controller||H);z=e&&e.attrs&&e.attrs.key;e=0==I||d&&d.controllers&&-1<d.controllers.indexOf(t)?e.view(t):{tag:"placeholder"};if("retain"===e.subtree)return d;z&&(e.attrs||(e.attrs={}),e.attrs.key=z);t.onunload&&
V.push({controller:t,handler:t.onunload});u.push(c);D.push(t)}if(!e.tag&&D.length)throw Error("Component template must return a virtual element, not an array, string, etc.");e.attrs||(e.attrs={});d.attrs||(d.attrs={});c=Object.keys(e.attrs);v=c.length>("key"in e.attrs?1:0);if(e.tag!=d.tag||c.sort().join()!=Object.keys(d.attrs).sort().join()||e.attrs.id!=d.attrs.id||e.attrs.key!=d.attrs.key||"all"==b.redraw.strategy()&&(!d.configContext||!0!==d.configContext.retain)||"diff"==b.redraw.strategy()&&d.configContext&&
!1===d.configContext.retain){d.nodes.length&&x(d.nodes);if(d.configContext&&"function"===typeof d.configContext.onunload)d.configContext.onunload();if(d.controllers)for(c=0;t=d.controllers[c];c++)if("function"===typeof t.onunload)t.onunload({preventDefault:H})}if("[object String]"!=y.call(e.tag))return;F=0===d.nodes.length;e.attrs.xmlns?h=e.attrs.xmlns:"svg"===e.tag?h="http://www.w3.org/2000/svg":"math"===e.tag&&(h="http://www.w3.org/1998/Math/MathML");if(F){q=e.attrs.is?h===g?w.createElement(e.tag,
e.attrs.is):w.createElementNS(h,e.tag,e.attrs.is):h===g?w.createElement(e.tag):w.createElementNS(h,e.tag);d={tag:e.tag,attrs:v?ba(q,e.tag,e.attrs,{},h):e.attrs,children:null!=e.children&&0<e.children.length?n(q,e.tag,g,g,e.children,d.children,!0,0,e.attrs.contenteditable?q:l,h,m):e.children,nodes:[q]};if(D.length)for(d.views=u,d.controllers=D,c=0;t=D[c];c++)t.onunload&&t.onunload.$old&&(t.onunload=t.onunload.$old),I&&t.onunload&&(f=t.onunload,t.onunload=H,t.onunload.$old=f);d.children&&!d.children.nodes&&
(d.children.nodes=[]);"select"===e.tag&&"value"in e.attrs&&ba(q,e.tag,{value:e.attrs.value},{},h);a.insertBefore(q,a.childNodes[E]||null)}else q=d.nodes[0],v&&ba(q,e.tag,e.attrs,d.attrs,h),d.children=n(q,e.tag,g,g,e.children,d.children,!1,0,e.attrs.contenteditable?q:l,h,m),d.nodes.intact=!0,D.length&&(d.views=u,d.controllers=D),!0===f&&null!=q&&a.insertBefore(q,a.childNodes[E]||null);"function"===typeof e.attrs.config&&(a=d.configContext=d.configContext||{},m.push(function(a,c){return function(){return a.attrs.config.apply(a,
c)}}(e,[q,!F,a,d])))}else if("function"!=typeof e)if(0===d.nodes.length)e.$trusted?u=T(a,E,e):(u=[w.createTextNode(e)],a.nodeName.match(sa)||a.insertBefore(u[0],a.childNodes[E]||null)),d=-1<"string number boolean".indexOf(typeof e)?new e.constructor(e):e,d.nodes=u;else if(d.valueOf()!==e.valueOf()||!0===f){u=d.nodes;if(!l||l!==w.activeElement)if(e.$trusted)x(u,d),u=T(a,E,e);else if("textarea"===D)a.value=e;else if(l)l.innerHTML=e;else{if(1===u[0].nodeType||1<u.length)x(d.nodes,d),u=[w.createTextNode(e)];
a.insertBefore(u[0],a.childNodes[E]||null);u[0].nodeValue=e}d=new e.constructor(e);d.nodes=u}else d.nodes.intact=!0;return d}function C(a,b){return a.action-b.action||a.index-b.index}function ba(a,b,c,f,e){for(var d in c){var g=c[d],h=f[d];if(d in f&&h===g)"value"===d&&"input"===b&&a.value!=g&&(a.value=g);else{f[d]=g;try{if("config"!==d&&"key"!=d)if("function"===typeof g&&0===d.indexOf("on"))a[d]=O(g,a);else if("style"===d&&null!=g&&"[object Object]"===y.call(g)){for(var l in g)if(null==h||h[l]!==
g[l])a.style[l]=g[l];for(l in h)l in g||(a.style[l]="")}else if(null!=e)"href"===d?a.setAttributeNS("http://www.w3.org/1999/xlink","href",g):"className"===d?a.setAttribute("class",g):a.setAttribute(d,g);else if(d in a&&"list"!==d&&"style"!==d&&"form"!==d&&"type"!==d&&"width"!==d&&"height"!==d){if("input"!==b||a[d]!==g)a[d]=g}else a.setAttribute(d,g)}catch(m){if(0>m.message.indexOf("Invalid argument"))throw m;}}}return f}function x(a,b){for(var c=a.length-1;-1<c;c--)if(a[c]&&a[c].parentNode){try{a[c].parentNode.removeChild(a[c])}catch(f){}b=
[].concat(b);b[c]&&ca(b[c])}0!=a.length&&(a.length=0)}function ca(a){a.configContext&&"function"===typeof a.configContext.onunload&&(a.configContext.onunload(),a.configContext.onunload=null);if(a.controllers)for(var b=0,c;c=a.controllers[b];b++)if("function"===typeof c.onunload)c.onunload({preventDefault:H});if(a.children)if("[object Array]"===y.call(a.children))for(b=0;c=a.children[b];b++)ca(c);else a.children.tag&&ca(a.children)}function T(a,b,c){var f=a.childNodes[b];if(f){var e=1!=f.nodeType,
d=w.createElement("span");e?(a.insertBefore(d,f||null),d.insertAdjacentHTML("beforebegin",c),a.removeChild(d)):f.insertAdjacentHTML("beforebegin",c)}else a.insertAdjacentHTML("beforeend",c);for(c=[];a.childNodes[b]!==f;)c.push(a.childNodes[b]),b++;return c}function O(a,f){return function(c){c=c||event;b.redraw.strategy("diff");b.startComputation();try{return a.call(f,c)}finally{ja()}}}function K(a){var b=ka.indexOf(a);return 0>b?ka.push(a)-1:b}function ta(a){var b=function(){arguments.length&&(a=
arguments[0]);return a};b.toJSON=function(){return a};return b}function ua(a,b){var c=function(c){1<arguments.length&&(b=b.concat([].slice.call(arguments,1)));return a.view.apply(a,b?[c].concat(b):[c])};c.$original=a.view;c={controller:function(){return(a.controller||H).apply(this,b)||this},view:c};b[0]&&null!=b[0].key&&(c.attrs={key:b[0].key});return c}function la(){L&&(L(),L=null);for(var a=0,f;f=W[a];a++)if(A[a]){var c=M[a].controller&&M[a].controller.$$args?[A[a]].concat(M[a].controller.$$args):
[A[a]];b.render(f,M[a].view?M[a].view(A[a],c):"")}P&&(P(),P=null);J=null;ma=new Date;b.redraw.strategy("diff")}function va(a,f,c){Q={};var g=c.indexOf("?");-1!==g&&(Q=X(c.substr(g+1,c.length)),c=c.substr(0,g));var g=Object.keys(f),e=g.indexOf(c);if(-1!==e)return b.mount(a,f[g[e]]),!0;for(var d in f){if(d===c)return b.mount(a,f[d]),!0;g=new RegExp("^"+d.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(g.test(c))return c.replace(g,function(){for(var c=d.match(/:[^\/]+/g)||
[],e=[].slice.call(arguments,1,-2),g=0,q=c.length;g<q;g++)Q[c[g].replace(/:|\./g,"")]=decodeURIComponent(e[g]);b.mount(a,f[d])}),!0}}function Y(a){a=a||event;if(!a.ctrlKey&&!a.metaKey&&2!==a.which){a.preventDefault?a.preventDefault():a.returnValue=!1;a=a.currentTarget||a.srcElement;for(var f="pathname"===b.route.mode&&a.search?X(a.search.slice(1)):{};a&&"A"!=a.nodeName.toUpperCase();)a=a.parentNode;b.route(a[b.route.mode].slice(N[b.route.mode].length),f)}}function na(){"hash"!=b.route.mode&&G.hash?
G.hash=G.hash:f.scrollTo(0,0)}function R(a,b){var c={},f=[],e;for(e in a){var d=b?b+"["+e+"]":e,l=a[e],h=y.call(l),h=null===l?encodeURIComponent(d):"[object Object]"===h?R(l,d):"[object Array]"===h?l.reduce(function(a,b){c[d]||(c[d]={});return c[d][b]?a:(c[d][b]=!0,a.concat(encodeURIComponent(d)+"="+encodeURIComponent(b)))},[]).join("&"):encodeURIComponent(d)+"="+encodeURIComponent(l);l!==g&&f.push(h)}return f.join("&")}function X(a){"?"===a.charAt(0)&&(a=a.substring(1));a=a.split("&");for(var b=
{},c=0,f=a.length;c<f;c++){var e=a[c].split("="),d=decodeURIComponent(e[0]),e=2==e.length?decodeURIComponent(e[1]):null;null!=b[d]?("[object Array]"!==y.call(b[d])&&(b[d]=[b[d]]),b[d].push(e)):b[d]=e}return b}function Z(a,f){var c=b.prop(f);a.then(c);c.then=function(c,b){return Z(a.then(c,b),f)};return c}function da(a,f){function c(a){l=a||4;m.map(function(a){3===l&&a.resolve(h)||a.reject(h)})}function g(a,c,d,e){if((null!=h&&"[object Object]"===y.call(h)||"function"===typeof h)&&"function"===typeof a)try{var f=
0;a.call(h,function(a){f++||(h=a,c())},function(a){f++||(h=a,d())})}catch(l){b.deferred.onerror(l),h=l,d()}else e()}function e(){var m;try{m=h&&h.then}catch(n){return b.deferred.onerror(n),h=n,l=2,e()}g(m,function(){l=1;e()},function(){l=2;e()},function(){try{1===l&&"function"===typeof a?h=a(h):2===l&&"function"===typeof f&&(h=f(h),l=1)}catch(e){return b.deferred.onerror(e),h=e,c()}h===d?(h=TypeError(),c()):g(m,function(){c(3)},c,function(){c(1===l&&3)})})}var d=this,l=0,h=0,m=[];d.promise={};d.resolve=
function(a){l||(h=a,l=1,e());return this};d.reject=function(a){l||(h=a,l=2,e());return this};d.promise.then=function(a,c){var b=new da(a,c);3===l?b.resolve(h):4===l?b.reject(h):m.push(b);return b.promise}}function ea(a){return a}function wa(a){if(a.dataType&&"jsonp"===a.dataType.toLowerCase()){var b="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1E16*Math.random()).toString(36),c=w.createElement("script");f[b]=function(d){c.parentNode.removeChild(c);a.onload({type:"load",target:{responseText:d}});
f[b]=g};c.onerror=function(d){c.parentNode.removeChild(c);a.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}});f[b]=g;return!1};c.onload=function(a){return!1};c.src=a.url+(0<a.url.indexOf("?")?"&":"?")+(a.callbackKey?a.callbackKey:"callback")+"="+b+"&"+R(a.data||{});w.body.appendChild(c)}else{var h=new f.XMLHttpRequest;h.open(a.method,a.url,!0,a.user,a.password);h.onreadystatechange=function(){if(4===h.readyState)if(200<=h.status&&300>h.status)a.onload({type:"load",
target:h});else a.onerror({type:"error",target:h})};a.serialize===JSON.stringify&&a.data&&"GET"!==a.method&&h.setRequestHeader("Content-Type","application/json; charset=utf-8");a.deserialize===JSON.parse&&h.setRequestHeader("Accept","application/json, text/*");if("function"===typeof a.config){var e=a.config(h,a);null!=e&&(h=e)}if((e="GET"!==a.method&&a.data?a.data:"")&&"[object String]"!=y.call(e)&&e.constructor!=f.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";
h.send(e);return h}}function xa(a,b,c){"GET"===a.method&&"jsonp"!=a.dataType?(c=0>a.url.indexOf("?")?"?":"&",b=R(b),a.url+=b?c+b:""):a.data=c(b);return a}function ya(a,b){var c=a.match(/:[a-z]\w+/gi);if(c&&b)for(var f=0;f<c.length;f++){var e=c[f].slice(1);a=a.replace(c[f],b[e]);delete b[e]}return a}var y={}.toString,qa=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,ra=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,sa=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/,H=function(){},
w,G,U,ia;h(f);var oa,za={appendChild:function(a){oa===g&&(oa=w.createElement("html"));w.documentElement&&w.documentElement!==a?w.replaceChild(a,w.documentElement):w.appendChild(a);this.childNodes=w.childNodes},insertBefore:function(a){this.appendChild(a)},childNodes:[]},ka=[],S={};b.render=function(a,b,c){var f=[];if(!a)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var e=K(a),d=a===w,h=d||a===w.documentElement?za:a;d&&"html"!=b.tag&&(b={tag:"html",
attrs:{},children:b});S[e]===g&&x(h.childNodes);!0===c&&(c=K(a),x(a.childNodes,S[c]),S[c]=g);S[e]=n(h,null,g,g,b,S[e],!1,0,null,g,f);a=0;for(b=f.length;a<b;a++)f[a]()};b.trust=function(a){a=new String(a);a.$trusted=!0;return a};b.prop=function(a){return(null!=a&&"[object Object]"===y.call(a)||"function"===typeof a)&&"function"===typeof a.then?Z(a):ta(a)};var W=[],M=[],A=[],J=null,ma=0,L=null,P=null,pa,V=[];b.component=function(a){return ua(a,[].slice.call(arguments,1))};b.mount=b.module=function(a,
f){if(!a)throw Error("Please ensure the DOM element exists before rendering a template into it.");var c=W.indexOf(a);0>c&&(c=W.length);for(var g=!1,e={preventDefault:function(){g=!0;L=P=null}},d=0,h;h=V[d];d++)h.handler.call(h.controller,e),h.controller.onunload=null;if(g)for(d=0;h=V[d];d++)h.controller.onunload=h.handler;else V=[];if(A[c]&&"function"===typeof A[c].onunload)A[c].onunload(e);if(!g)return b.redraw.strategy("all"),b.startComputation(),W[c]=a,2<arguments.length&&(f=subcomponent(f,[].slice.call(arguments,
2))),e=pa=f=f||{controller:function(){}},d=new (f.controller||H),e===pa&&(A[c]=d,M[c]=f),ja(),A[c]};var fa=!1;b.redraw=function(a){if(!fa){fa=!0;if(J&&!0!==a){if(U===f.requestAnimationFrame||16<new Date-ma)0<J&&ia(J),J=U(la,16)}else la(),J=U(function(){J=null},16);fa=!1}};b.redraw.strategy=b.prop();var I=0;b.startComputation=function(){I++};b.endComputation=function(){I=Math.max(I-1,0);0===I&&b.redraw()};var ja=function(){"none"==b.redraw.strategy()?(I--,b.redraw.strategy("diff")):b.endComputation()};
b.withAttr=function(a,b){return function(c){c=c||event;c=c.currentTarget||this;b(a in c?c[a]:c.getAttribute(a))}};var N={pathname:"",hash:"#",search:"?"},ga=H,Q,B,ha=!1;b.route=function(){if(0===arguments.length)return B;if(3===arguments.length&&"[object String]"===y.call(arguments[1])){var a=arguments[0],h=arguments[1],c=arguments[2];ga=function(d){d=B=d.slice(N[b.route.mode].length);if(!va(a,c,d)){if(ha)throw Error("Ensure the default route matches one of the routes defined in m.route");ha=!0;b.route(h,
!0);ha=!1}};var g="hash"===b.route.mode?"onhashchange":"onpopstate";f[g]=function(){var a=G[b.route.mode];"pathname"===b.route.mode&&(a+=G.search);B!=a.slice(N[b.route.mode].length)&&ga(a)};L=na;f[g]()}else if(arguments[0].addEventListener||arguments[0].attachEvent)g=arguments[0],g.href=("pathname"!==b.route.mode?G.pathname:"")+N[b.route.mode]+arguments[3].attrs.href,g.addEventListener?(g.removeEventListener("click",Y),g.addEventListener("click",Y)):(g.detachEvent("onclick",Y),g.attachEvent("onclick",
Y));else if("[object String]"===y.call(arguments[0])){g=B;B=arguments[0];var e=arguments[1]||{},d=B.indexOf("?"),l=-1<d?X(B.slice(d+1)):{},n;for(n in e)l[n]=e[n];e=R(l);d=-1<d?B.slice(0,d):B;e&&(B=d+(-1===d.indexOf("?")?"?":"&")+e);var r=!0===(3===arguments.length?arguments[2]:arguments[1])||g===arguments[0];f.history.pushState?(L=na,P=function(){f.history[r?"replaceState":"pushState"](null,w.title,N[b.route.mode]+B)}):G[b.route.mode]=B;ga(N[b.route.mode]+B)}};b.route.param=function(a){if(!Q)throw Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");
return Q[a]};b.route.mode="search";b.route.buildQueryString=R;b.route.parseQueryString=X;b.deferred=function(){var a=new da;a.promise=Z(a.promise);return a};b.deferred.onerror=function(a){if("[object Error]"===y.call(a)&&!a.constructor.toString().match(/ Error/))throw a;};b.sync=function(a){function f(a,b){return function(f){d[a]=f;b||(c="reject");0===--e&&(g.promise(d),g[c](d));return f}}var c="resolve",g=b.deferred(),e=a.length,d=Array(e);if(0<a.length)for(var h=0;h<a.length;h++)a[h].then(f(h,!0),
f(h,!1));else g.resolve([]);return g.promise};b.request=function(a){!0!==a.background&&b.startComputation();var f=new da,c=a.dataType&&"jsonp"===a.dataType.toLowerCase(),g=a.serialize=c?ea:a.serialize||JSON.stringify,e=a.deserialize=c?ea:a.deserialize||JSON.parse,d=c?function(a){return a.responseText}:a.extract||function(a){return 0===a.responseText.length&&e===JSON.parse?null:a.responseText};a.method=(a.method||"GET").toUpperCase();a.url=ya(a.url,a.data);a=xa(a,a.data,g);a.onload=a.onerror=function(c){try{c=
c||event;var g=(("load"===c.type?a.unwrapSuccess:a.unwrapError)||ea)(e(d(c.target,a)),c.target);if("load"===c.type)if("[object Array]"===y.call(g)&&a.type)for(var h=0;h<g.length;h++)g[h]=new a.type(g[h]);else a.type&&(g=new a.type(g));f["load"===c.type?"resolve":"reject"](g)}catch(l){b.deferred.onerror(l),f.reject(l)}!0!==a.background&&b.endComputation()};wa(a);f.promise=Z(f.promise,a.initialValue);return f.promise};b.deps=function(a){h(f=a||f);return f};b.deps.factory=l;return b}("undefined"!=typeof window?
window:{});"undefined"!=typeof g&&null!==g&&g.exports?g.exports=h:"function"===typeof define&&define.amd&&define(function(){return h})},{}]},{},[1]);
</script>
    {% else %}
      <script>(function e$$0(m,r,g){function k(f,ca){if(!r[f]){if(!m[f]){var b="function"==typeof require&&require;if(!ca&&b)return b(f,!0);if(l)return l(f,!0);b=Error("Cannot find module '"+f+"'");throw b.code="MODULE_NOT_FOUND",b;}b=r[f]={exports:{}};m[f][0].call(b.exports,function(b){var l=m[f][1][b];return k(l?l:b)},b,b.exports,e$$0,m,r,g)}return r[f].exports}for(var l="function"==typeof require&&require,f=0;f<g.length;f++)k(g[f]);return k})({1:[function(h,m,r){h=h("./src/app");if(m=document.getElementsByTagName("style")[0])if(r=
h.getLsOrKickOut(window)){var g={};g["{{cache_key}}"]=m.innerHTML;r.setItem("orkjern_theme_cache",JSON.stringify(g));document.cookie="ORKJERN_THEME_CACHE={{ cache_key }}"}h.init(window)},{"./src/app":2}],2:[function(h,m,r){var g=h("mithril"),k=h("./booter"),l=h("./disqus"),f=h("./gist"),p=h("./controllers/node"),ca=h("./controllers/index"),b=h("./controllers/taxonomy");m.exports={appendCss:function(b,k){var f=k.document,l=f.getElementsByTagName("head")[0],p=f.createElement("style");p.type="text/css";
p.styleSheet?p.styleSheet.cssText=b:p.appendChild(f.createTextNode(b));return l.appendChild(p)},getLsOrKickOut:function(b){var f=b.localStorage;if(!f){if(b.navigator&&b.navigator.userAgent&&b.navigator.userAgent.match(/Twitter/))return!1;b.alert("Your browser is bad, and you should feel bad. You are not welcome here. You will be redirected to a place where you can upgrade your browser.");b.location.href="http://browsehappy.com/";return!1}return f},init:function(h){var C={window:h,m:g};h.test&&g.deps(h);
var m=h.document;g.route.mode="pathname";C.controllers={index:new ca(C),node:p,taxonomy:new b(C)};C.booter=new k(C);C.booter.attach();l(C.window);f(C.window);h.disqus_shortname="{{ disqus_shortname }}";if(!h.disqus_shortname||!h.disqus_shortname.length)return C;h.DISQUSWIDGETS=void 0;if(m.querySelectorAll&&0===m.querySelectorAll("a[data-disqus-identifier]").length)for(var x=m.querySelectorAll(".views-field-view-node a"),r=0,T=x.length;r<T;r++){var O=m.createElement("div");O.className="comment-count";
var K=m.createElement("a");K.href=x[r].pathname;K.setAttribute("data-disqus-identifier",x[r].pathname);O.appendChild(K);x[r].parentNode.parentNode.parentNode.insertBefore(O,x[r].parentNode.parentNode.nextSibling)}x=m.createElement("script");x.async=!0;x.type="text/javascript";x.src="//"+h.disqus_shortname+".disqus.com/count.js";(m.getElementsByTagName("HEAD")[0]||m.getElementsByTagName("BODY")[0]).appendChild(x);return C}}},{"./booter":3,"./controllers/index":4,"./controllers/node":5,"./controllers/taxonomy":6,
"./disqus":7,"./gist":8,mithril:12}],3:[function(h,m,r){function g(k){this.app=k;this.window=k.window;var l=k.controllers.index,f=k.controllers.node;k=k.controllers.taxonomy;this.booted=!1;this.routeConf={};this.routeConf["/"]=l;this.routeConf["/node"]=l;this.routeConf["/:alias"]=f;this.routeConf["/node/:nid"]=f;this.routeConf["/taxonomy/term/:tid"]=k;var p=this.app.m;this.m=p;var l=this.window.document,g=this;this.startFunction=function(){var b=this.getAttribute("href");g.navigate(b);return!1};if(l=
l.getElementById("logo"))l.onclick=function(){"/"!==p.route()&&g.navigate("/");return!1}}m.exports=g;g.prototype.attach=function(k){var l=this.window.document;if(l&&l.querySelectorAll){k=l.querySelectorAll(k||"#main-wrapper a");for(var l=0,f=k.length;l<f;l++)k[l].onclick=this.startFunction}};g.prototype.navigate=function(k){var l=this.window;!this.booted&&l&&l.document&&(this.m.route(l.document.getElementById("main-wrapper"),k,this.routeConf),this.booted=!0);this.m.route(k)};g.prototype.navigateEl=
function(k,l){var f=k.getAttribute("href");l.navigate(f);return!1}},{}],4:[function(h,m,r){r=h("../views/index");var g=h("../http"),k={},l=function(f){var k=f.m;return function(){var l=f.window,b=this;this.nodes=k.prop([]);g("node").then(function(k){b.nodes=k;setTimeout(function(){f.booter.attach(".field-type-taxonomy-term-reference a")},2);var p=f.window.document;l.DISQUSWIDGETS=void 0;l.disqus_shortname&&function(){var b=p.createElement("script");b.async=!0;b.type="text/javascript";b.src="//"+l.disqus_shortname+
".disqus.com/count.js";(p.getElementsByTagName("HEAD")[0]||p.getElementsByTagName("BODY")[0]).appendChild(b)}()});this.navigate=function(b){f.booter.navigateEl(b,f.booter)}}};k.view=r;m.exports=function(f){k.app=f;k.controller=new l(f);return k}},{"../http":9,"../views/index":10}],5:[function(h,m,r){var g=h("mithril");r=h("../views/node");var k=h("../http"),l=h("../gist"),f=h("../disqus");h={controller:function(){var p=this;this.title=g.prop("");this.body=g.prop("Loading...");this.raw=g.prop({});
this.image=g.prop("about:blank");p.submitted=g.prop("");var h;this.imageClass=g.prop("noplay");this.toggleImageClass=function(){g.startComputation();p.imageClass("play");h&&p.image(h);g.endComputation()};var b=g.route.param("alias"),m=g.route.param("nid");if(!b){if(!m){g.route("/");return}b="node/"+m}k(b).then(function(b){if(b){var k=new Date(1E3*b.created[0].value);p.title(b.title[0].value);p.body(b.body[0].value);p.submitted("Submitted "+k.toLocaleDateString());for(var g in b._links)1>g.indexOf("image")||
!b._links.hasOwnProperty(g)||!g.indexOf("image")||(h=b._links[g][0].href);p.raw=b;setTimeout(function(){l(window)},200);window.disqus_shortname="{{ disqus_shortname }}";setTimeout(function(){f(window)},200)}},function(b){404===b&&(p.title("404 not found!"),p.body("The page you are looking for is nowhere to be found. Real sorry about that!"),p.imageClass("hide"));403===b&&(p.title("403 Forbidden!"),p.body("You are not allowed to access this page. I am guessing you already knew that!"))})}};h.view=
r;m.exports=h},{"../disqus":7,"../gist":8,"../http":9,"../views/node":11,mithril:12}],6:[function(h,m,r){r=h("../views/index");var g=h("../http"),k={},l=function(k){var l=k.m;return function(){var h=this;this.nodes=l.prop([]);var b=l.route.param("tid");g("api/taxonomy/term/"+b).then(function(b){b.map(function(b){b.body=""});h.nodes=b;window.disqus_shortname="{{ disqus_shortname }}";setTimeout(function(){k.booter.attach(".field-type-taxonomy-term-reference a")},2);window.disqus_shortname&&window.disqus_shortname.length&&
(window.DISQUSWIDGETS=void 0,function(){var b=document.createElement("script");b.async=!0;b.type="text/javascript";b.src="//"+window.disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(b)}())});this.navigate=function(b){k.booter.navigateEl(b,k.booter)}}};k.view=r;m.exports=function(f){k.controller=new l(f);return k}},{"../http":9,"../views/index":10}],7:[function(h,m,r){var g=h("mithril");m.exports=function(k){var l=
k.document;"undefined"===typeof g&&(g=k.m);var f=function(){if(k.disqus_shortname)if(k.disqus_identifier=g.route(),k.disqus_identifier||(k.disqus_identifier=k.location.pathname),k.disqus_loaded)k.DISQUS.reset({reload:!0,config:function(){this.page.identifier=k.disqus_identifier;this.page.url=k.location.origin+k.disqus_identifier}});else{k.disqus_loaded=!0;var b=l.createElement("script");b.type="text/javascript";b.async=!0;b.src="//"+k.disqus_shortname+".disqus.com/embed.js?url="+k.disqus_identifier;
(l.getElementsByTagName("head")[0]||l.getElementsByTagName("body")[0]).appendChild(b)}},p=l.getElementById("disqus_thread"),h=!1;k.onscroll=function(){p||(p=l.getElementById("disqus_thread"));!h&&k.scrollY&&p&&p.offsetTop&&k.innerHeight&&k.scrollY+k.innerHeight+50>p.offsetTop&&(h=!0,f())}}},{mithril:12}],8:[function(h,m,r){m.exports=function(h){for(var k=h.document,l=function(b,f){var l="gist_callback"+Math.floor(1E3*Math.random()),p=k.createElement("script");p.setAttribute("src","https://gist.github.com/"+
f+".json?callback="+l);h[l]=function(k){delete h[l];var f='<link href="'+k.stylesheet+'" rel="stylesheet">',f=f+k.div;b.innerHTML=f;p.parentNode.removeChild(p);b.className+="processed"};k.body.appendChild(p)},f=k.getElementsByTagName("gist"),p=0,m=f.length;p<m;p++){var b=f[p];b.className&&-1<b.className.indexOf("processed")||l(b,b.innerHTML)}}},{}],9:[function(h,m,r){m.exports=function(k){return g.request({method:"GET",url:"/"+k+"?_format=hal_json",config:function(k){k.setRequestHeader("Accept","application/hal+json")},
extract:function(k){return 200===k.status?k.responseText:JSON.stringify(k.status)},deserialize:function(k){var f;try{f=JSON.parse(k)}catch(h){f=""}return f}})};var g=h("mithril")},{mithril:12}],10:[function(h,m,r){var g=h("mithril");m.exports=function(k){var h=function(f){return{tag:"article",attrs:{class:"node node--view-mode-teaser clearfix",about:"/aa-cc",typeof:"schema:Article"},children:[{tag:"h2",attrs:{class:"node__title "},children:[{tag:"a",attrs:{href:f.path,onclick:function(){k.navigate(this);
return!1}},children:[f.title]}]},{tag:"div",attrs:{class:"node__meta"},children:["Post date: ",f.created]},{tag:"div",attrs:{class:"read-more"},children:[{tag:"a",attrs:{href:f.path,onclick:function(){k.navigate(this);return!1}},children:["Read more"]}]},{tag:"div",attrs:{class:"comment-count"},children:[{tag:"a",attrs:{"data-disqus-identifier":f.path,href:f.path,onclick:function(){k.navigate(this);return!1}}}]},g.trust(f.field_tags)]}};return{tag:"main",attrs:{id:"content",class:"column",role:"main"},
children:[{tag:"section",attrs:{class:"section"},children:[{tag:"div",attrs:{class:"content"},children:[{tag:"div",attrs:{},children:[k.nodes.map?k.nodes.map(h):""]}]}]}]}}},{mithril:12}],11:[function(h,m,r){var g=h("mithril");m.exports=function(k){return{tag:"main",attrs:{id:"content",class:"column",role:"main"},children:[{tag:"section",attrs:{class:"section"},children:[{tag:"div",attrs:{class:"content"},children:[{tag:"article",attrs:{class:"node node--view-mode-full clearfix",about:"/aa-cc",typeof:"schema:Article"},
children:[{tag:"h1",attrs:{class:"title",id:"page-title"},children:[k.title()]},{tag:"div",attrs:{class:"node__meta"},children:[k.submitted()]},{tag:"div",attrs:{class:"node__content clearfix "},children:[{tag:"p",attrs:{},children:[g.trust(k.body())]}]},{tag:"div",attrs:{class:k.imageClass()+" image",onclick:k.toggleImageClass},children:[{tag:"img",attrs:{src:k.image()}},{tag:"h2",attrs:{},children:["Play"]}]}]},{tag:"div",attrs:{class:"twitter"},children:["This blog is written by me, ",{tag:"a",
attrs:{href:"https://twitter.com/orkj"},children:["eiriksm. Feel free to say hi on twitter."]}]},{tag:"div",attrs:{id:"disqus_thread"}}]}]}]}}},{mithril:12}],12:[function(h,m,r){var g=function l(f,h){function g(a){w=a.document;G=a.location;ka=a.cancelAnimationFrame||a.clearTimeout;U=a.requestAnimationFrame||a.setTimeout}function b(){var a=[].slice.call(arguments),b=null!=a[1]&&"[object Object]"===y.call(a[1])&&!("tag"in a[1]||"view"in a[1])&&!("subtree"in a[1]),c=b?a[1]:{},n="class"in c?"class":"className",
e={tag:"div",attrs:{}},d,V=[];if("[object String]"!=y.call(a[0]))throw Error("selector in m(selector, attrs, children) should be a string");for(;d=sa.exec(a[0]);)""===d[1]&&d[2]?e.tag=d[2]:"#"===d[1]?e.attrs.id=d[2]:"."===d[1]?V.push(d[2]):"["===d[3][0]&&(d=ta.exec(d[3]),e.attrs[d[1]]=d[3]||(d[2]?"":!0));a=b?a.slice(2):a.slice(1);1===a.length&&"[object Array]"===y.call(a[0])?e.children=a[0]:e.children=a;for(var f in c)c.hasOwnProperty(f)&&(f===n&&null!=c[f]&&""!==c[f]?(V.push(c[f]),e.attrs[f]=""):
e.attrs[f]=c[f]);0<V.length&&(e.attrs[n]=V.join(" "));return e}function m(a,D,c,n,e,d,f,E,l,g,W){try{if(null==e||null==e.toString())e=""}catch(B){e=""}if("retain"===e.subtree)return d;var t=y.call(d),u=y.call(e);if(null==d||t!==u)null!=d&&(c&&c.nodes?(n=E-n,d=n+("[object Array]"===u?e:d.nodes).length,x(c.nodes.slice(n,d),c.slice(n,d))):d.nodes&&x(d.nodes,d)),d=new e.constructor,d.tag&&(d={}),d.nodes=[];if("[object Array]"===u){c=0;for(var q=e.length;c<q;c++)"[object Array]"===y.call(e[c])&&(e=e.concat.apply([],
e),c--,q=e.length);u=[];n=d.length===e.length;var t=0,v={},z=!1;for(c=0;c<d.length;c++)d[c]&&d[c].attrs&&null!=d[c].attrs.key&&(z=!0,v[d[c].attrs.key]={action:1,index:c});var A=0;c=0;for(q=e.length;c<q;c++)if(e[c]&&e[c].attrs&&null!=e[c].attrs.key){c=0;for(q=e.length;c<q;c++)e[c]&&e[c].attrs&&null==e[c].attrs.key&&(e[c].attrs.key="__mithril__"+A++);break}if(z){q=!1;if(e.length!=d.length)q=!0;else for(c=0;z=d[c],A=e[c];c++)if(z.attrs&&A.attrs&&z.attrs.key!=A.attrs.key){q=!0;break}if(q){c=0;for(q=e.length;c<
q;c++)e[c]&&e[c].attrs&&null!=e[c].attrs.key&&(z=e[c].attrs.key,v[z]=v[z]?{action:3,index:c,from:v[z].index,element:d.nodes[v[z].index]||w.createElement("div")}:{action:2,index:c});c=[];for(var F in v)c.push(v[F]);F=c.sort(r);v=Array(d.length);v.nodes=d.nodes.slice();for(c=0;q=F[c];c++)1===q.action&&(x(d[q.index].nodes,d[q.index]),v.splice(q.index,1)),2===q.action&&(z=w.createElement("div"),z.key=e[q.index].attrs.key,a.insertBefore(z,a.childNodes[q.index]||null),v.splice(q.index,0,{attrs:{key:e[q.index].attrs.key},
nodes:[z]}),v.nodes[q.index]=z),3===q.action&&(a.childNodes[q.index]!==q.element&&null!==q.element&&a.insertBefore(q.element,a.childNodes[q.index]||null),v[q.index]=d[q.from],v.nodes[q.index]=q.element);d=v}}F=c=0;for(q=e.length;c<q;c++)v=m(a,D,d,E,e[c],d[F],f,E+t||t,l,g,W),v!==h&&(v.nodes.intact||(n=!1),t=v.$trusted?t+(v.match(/<[^\/]|\>\s*[^<]/g)||[0]).length:t+("[object Array]"===y.call(v)?v.length:1),d[F++]=v);if(!n){c=0;for(q=e.length;c<q;c++)null!=d[c]&&u.push.apply(u,d[c].nodes);for(c=0;n=
d.nodes[c];c++)null!=n.parentNode&&0>u.indexOf(n)&&x([n],[d[c]]);e.length<d.length&&(d.length=e.length);d.nodes=u}}else if(null!=e&&"[object Object]"===u){u=[];for(D=[];e.view;){c=e.view.$original||e.view;n="diff"==b.redraw.strategy()&&d.views?d.views.indexOf(c):-1;t=-1<n?d.controllers[n]:new (e.controller||H);z=e&&e.attrs&&e.attrs.key;e=0==I||d&&d.controllers&&-1<d.controllers.indexOf(t)?e.view(t):{tag:"placeholder"};if("retain"===e.subtree)return d;z&&(e.attrs||(e.attrs={}),e.attrs.key=z);t.onunload&&
X.push({controller:t,handler:t.onunload});u.push(c);D.push(t)}if(!e.tag&&D.length)throw Error("Component template must return a virtual element, not an array, string, etc.");e.attrs||(e.attrs={});d.attrs||(d.attrs={});c=Object.keys(e.attrs);v=c.length>("key"in e.attrs?1:0);if(e.tag!=d.tag||c.sort().join()!=Object.keys(d.attrs).sort().join()||e.attrs.id!=d.attrs.id||e.attrs.key!=d.attrs.key||"all"==b.redraw.strategy()&&(!d.configContext||!0!==d.configContext.retain)||"diff"==b.redraw.strategy()&&d.configContext&&
!1===d.configContext.retain){d.nodes.length&&x(d.nodes);if(d.configContext&&"function"===typeof d.configContext.onunload)d.configContext.onunload();if(d.controllers)for(c=0;t=d.controllers[c];c++)if("function"===typeof t.onunload)t.onunload({preventDefault:H})}if("[object String]"!=y.call(e.tag))return;F=0===d.nodes.length;e.attrs.xmlns?g=e.attrs.xmlns:"svg"===e.tag?g="http://www.w3.org/2000/svg":"math"===e.tag&&(g="http://www.w3.org/1998/Math/MathML");if(F){n=e.attrs.is?g===h?w.createElement(e.tag,
e.attrs.is):w.createElementNS(g,e.tag,e.attrs.is):g===h?w.createElement(e.tag):w.createElementNS(g,e.tag);d={tag:e.tag,attrs:v?da(n,e.tag,e.attrs,{},g):e.attrs,children:null!=e.children&&0<e.children.length?m(n,e.tag,h,h,e.children,d.children,!0,0,e.attrs.contenteditable?n:l,g,W):e.children,nodes:[n]};if(D.length)for(d.views=u,d.controllers=D,c=0;t=D[c];c++)t.onunload&&t.onunload.$old&&(t.onunload=t.onunload.$old),I&&t.onunload&&(f=t.onunload,t.onunload=H,t.onunload.$old=f);d.children&&!d.children.nodes&&
(d.children.nodes=[]);"select"===e.tag&&"value"in e.attrs&&da(n,e.tag,{value:e.attrs.value},{},g);a.insertBefore(n,a.childNodes[E]||null)}else n=d.nodes[0],v&&da(n,e.tag,e.attrs,d.attrs,g),d.children=m(n,e.tag,h,h,e.children,d.children,!1,0,e.attrs.contenteditable?n:l,g,W),d.nodes.intact=!0,D.length&&(d.views=u,d.controllers=D),!0===f&&null!=n&&a.insertBefore(n,a.childNodes[E]||null);"function"===typeof e.attrs.config&&(a=d.configContext=d.configContext||{},W.push(function(a,c){return function(){return a.attrs.config.apply(a,
c)}}(e,[n,!F,a,d])))}else if("function"!=typeof e)if(0===d.nodes.length)e.$trusted?u=T(a,E,e):(u=[w.createTextNode(e)],a.nodeName.match(ua)||a.insertBefore(u[0],a.childNodes[E]||null)),d=-1<"string number boolean".indexOf(typeof e)?new e.constructor(e):e,d.nodes=u;else if(d.valueOf()!==e.valueOf()||!0===f){u=d.nodes;if(!l||l!==w.activeElement)if(e.$trusted)x(u,d),u=T(a,E,e);else if("textarea"===D)a.value=e;else if(l)l.innerHTML=e;else{if(1===u[0].nodeType||1<u.length)x(d.nodes,d),u=[w.createTextNode(e)];
a.insertBefore(u[0],a.childNodes[E]||null);u[0].nodeValue=e}d=new e.constructor(e);d.nodes=u}else d.nodes.intact=!0;return d}function r(a,b){return a.action-b.action||a.index-b.index}function da(a,b,c,n,e){for(var d in c){var f=c[d],h=n[d];if(d in n&&h===f)"value"===d&&"input"===b&&a.value!=f&&(a.value=f);else{n[d]=f;try{if("config"!==d&&"key"!=d)if("function"===typeof f&&0===d.indexOf("on"))a[d]=O(f,a);else if("style"===d&&null!=f&&"[object Object]"===y.call(f)){for(var g in f)if(null==h||h[g]!==
f[g])a.style[g]=f[g];for(g in h)g in f||(a.style[g]="")}else if(null!=e)"href"===d?a.setAttributeNS("http://www.w3.org/1999/xlink","href",f):"className"===d?a.setAttribute("class",f):a.setAttribute(d,f);else if(d in a&&"list"!==d&&"style"!==d&&"form"!==d&&"type"!==d&&"width"!==d&&"height"!==d){if("input"!==b||a[d]!==f)a[d]=f}else a.setAttribute(d,f)}catch(l){if(0>l.message.indexOf("Invalid argument"))throw l;}}}return n}function x(a,b){for(var c=a.length-1;-1<c;c--)if(a[c]&&a[c].parentNode){try{a[c].parentNode.removeChild(a[c])}catch(f){}b=
[].concat(b);b[c]&&ea(b[c])}0!=a.length&&(a.length=0)}function ea(a){a.configContext&&"function"===typeof a.configContext.onunload&&(a.configContext.onunload(),a.configContext.onunload=null);if(a.controllers)for(var b=0,c;c=a.controllers[b];b++)if("function"===typeof c.onunload)c.onunload({preventDefault:H});if(a.children)if("[object Array]"===y.call(a.children))for(b=0;c=a.children[b];b++)ea(c);else a.children.tag&&ea(a.children)}function T(a,b,c){var f=a.childNodes[b];if(f){var e=1!=f.nodeType,
d=w.createElement("span");e?(a.insertBefore(d,f||null),d.insertAdjacentHTML("beforebegin",c),a.removeChild(d)):f.insertAdjacentHTML("beforebegin",c)}else a.insertAdjacentHTML("beforeend",c);for(c=[];a.childNodes[b]!==f;)c.push(a.childNodes[b]),b++;return c}function O(a,f){return function(c){c=c||event;b.redraw.strategy("diff");b.startComputation();try{return a.call(f,c)}finally{la()}}}function K(a){var b=ma.indexOf(a);return 0>b?ma.push(a)-1:b}function va(a){var b=function(){arguments.length&&(a=
arguments[0]);return a};b.toJSON=function(){return a};return b}function wa(a,b){var c=function(c){1<arguments.length&&(b=b.concat([].slice.call(arguments,1)));return a.view.apply(a,b?[c].concat(b):[c])};c.$original=a.view;c={controller:function(){return(a.controller||H).apply(this,b)||this},view:c};b[0]&&null!=b[0].key&&(c.attrs={key:b[0].key});return c}function na(){L&&(L(),L=null);for(var a=0,f;f=Y[a];a++)if(A[a]){var c=M[a].controller&&M[a].controller.$$args?[A[a]].concat(M[a].controller.$$args):
[A[a]];b.render(f,M[a].view?M[a].view(A[a],c):"")}P&&(P(),P=null);J=null;oa=new Date;b.redraw.strategy("diff")}function xa(a,f,c){Q={};var n=c.indexOf("?");-1!==n&&(Q=Z(c.substr(n+1,c.length)),c=c.substr(0,n));var n=Object.keys(f),e=n.indexOf(c);if(-1!==e)return b.mount(a,f[n[e]]),!0;for(var d in f){if(d===c)return b.mount(a,f[d]),!0;n=new RegExp("^"+d.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(n.test(c))return c.replace(n,function(){for(var c=d.match(/:[^\/]+/g)||
[],e=[].slice.call(arguments,1,-2),n=0,h=c.length;n<h;n++)Q[c[n].replace(/:|\./g,"")]=decodeURIComponent(e[n]);b.mount(a,f[d])}),!0}}function aa(a){a=a||event;if(!a.ctrlKey&&!a.metaKey&&2!==a.which){a.preventDefault?a.preventDefault():a.returnValue=!1;a=a.currentTarget||a.srcElement;for(var f="pathname"===b.route.mode&&a.search?Z(a.search.slice(1)):{};a&&"A"!=a.nodeName.toUpperCase();)a=a.parentNode;b.route(a[b.route.mode].slice(N[b.route.mode].length),f)}}function pa(){"hash"!=b.route.mode&&G.hash?
G.hash=G.hash:f.scrollTo(0,0)}function R(a,b){var c={},f=[],e;for(e in a){var d=b?b+"["+e+"]":e,g=a[e],l=y.call(g),l=null===g?encodeURIComponent(d):"[object Object]"===l?R(g,d):"[object Array]"===l?g.reduce(function(a,b){c[d]||(c[d]={});return c[d][b]?a:(c[d][b]=!0,a.concat(encodeURIComponent(d)+"="+encodeURIComponent(b)))},[]).join("&"):encodeURIComponent(d)+"="+encodeURIComponent(g);g!==h&&f.push(l)}return f.join("&")}function Z(a){"?"===a.charAt(0)&&(a=a.substring(1));a=a.split("&");for(var b=
{},c=0,f=a.length;c<f;c++){var e=a[c].split("="),d=decodeURIComponent(e[0]),e=2==e.length?decodeURIComponent(e[1]):null;null!=b[d]?("[object Array]"!==y.call(b[d])&&(b[d]=[b[d]]),b[d].push(e)):b[d]=e}return b}function ba(a,f){var c=b.prop(f);a.then(c);c.then=function(c,b){return ba(a.then(c,b),f)};return c}function fa(a,f){function c(a){h=a||4;l.map(function(a){3===h&&a.resolve(g)||a.reject(g)})}function n(a,c,d,e){if((null!=g&&"[object Object]"===y.call(g)||"function"===typeof g)&&"function"===typeof a)try{var f=
0;a.call(g,function(a){f++||(g=a,c())},function(a){f++||(g=a,d())})}catch(h){b.deferred.onerror(h),g=h,d()}else e()}function e(){var l;try{l=g&&g.then}catch(m){return b.deferred.onerror(m),g=m,h=2,e()}n(l,function(){h=1;e()},function(){h=2;e()},function(){try{1===h&&"function"===typeof a?g=a(g):2===h&&"function"===typeof f&&(g=f(g),h=1)}catch(e){return b.deferred.onerror(e),g=e,c()}g===d?(g=TypeError(),c()):n(l,function(){c(3)},c,function(){c(1===h&&3)})})}var d=this,h=0,g=0,l=[];d.promise={};d.resolve=
function(a){h||(g=a,h=1,e());return this};d.reject=function(a){h||(g=a,h=2,e());return this};d.promise.then=function(a,c){var b=new fa(a,c);3===h?b.resolve(g):4===h?b.reject(g):l.push(b);return b.promise}}function ga(a){return a}function ya(a){if(a.dataType&&"jsonp"===a.dataType.toLowerCase()){var b="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1E16*Math.random()).toString(36),c=w.createElement("script");f[b]=function(d){c.parentNode.removeChild(c);a.onload({type:"load",target:{responseText:d}});
f[b]=h};c.onerror=function(d){c.parentNode.removeChild(c);a.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}});f[b]=h;return!1};c.onload=function(a){return!1};c.src=a.url+(0<a.url.indexOf("?")?"&":"?")+(a.callbackKey?a.callbackKey:"callback")+"="+b+"&"+R(a.data||{});w.body.appendChild(c)}else{var g=new f.XMLHttpRequest;g.open(a.method,a.url,!0,a.user,a.password);g.onreadystatechange=function(){if(4===g.readyState)if(200<=g.status&&300>g.status)a.onload({type:"load",
target:g});else a.onerror({type:"error",target:g})};a.serialize===JSON.stringify&&a.data&&"GET"!==a.method&&g.setRequestHeader("Content-Type","application/json; charset=utf-8");a.deserialize===JSON.parse&&g.setRequestHeader("Accept","application/json, text/*");if("function"===typeof a.config){var e=a.config(g,a);null!=e&&(g=e)}if((e="GET"!==a.method&&a.data?a.data:"")&&"[object String]"!=y.call(e)&&e.constructor!=f.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";
g.send(e);return g}}function za(a,b,c){"GET"===a.method&&"jsonp"!=a.dataType?(c=0>a.url.indexOf("?")?"?":"&",b=R(b),a.url+=b?c+b:""):a.data=c(b);return a}function Aa(a,b){var c=a.match(/:[a-z]\w+/gi);if(c&&b)for(var f=0;f<c.length;f++){var e=c[f].slice(1);a=a.replace(c[f],b[e]);delete b[e]}return a}var y={}.toString,sa=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,ta=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,ua=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/,H=function(){},
w,G,U,ka;g(f);var qa,Ba={appendChild:function(a){qa===h&&(qa=w.createElement("html"));w.documentElement&&w.documentElement!==a?w.replaceChild(a,w.documentElement):w.appendChild(a);this.childNodes=w.childNodes},insertBefore:function(a){this.appendChild(a)},childNodes:[]},ma=[],S={};b.render=function(a,b,c){var f=[];if(!a)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var e=K(a),d=a===w,g=d||a===w.documentElement?Ba:a;d&&"html"!=b.tag&&(b={tag:"html",
attrs:{},children:b});S[e]===h&&x(g.childNodes);!0===c&&(c=K(a),x(a.childNodes,S[c]),S[c]=h);S[e]=m(g,null,h,h,b,S[e],!1,0,null,h,f);a=0;for(b=f.length;a<b;a++)f[a]()};b.trust=function(a){a=new String(a);a.$trusted=!0;return a};b.prop=function(a){return(null!=a&&"[object Object]"===y.call(a)||"function"===typeof a)&&"function"===typeof a.then?ba(a):va(a)};var Y=[],M=[],A=[],J=null,oa=0,L=null,P=null,ra,X=[];b.component=function(a){return wa(a,[].slice.call(arguments,1))};b.mount=b.module=function(a,
f){if(!a)throw Error("Please ensure the DOM element exists before rendering a template into it.");var c=Y.indexOf(a);0>c&&(c=Y.length);for(var g=!1,e={preventDefault:function(){g=!0;L=P=null}},d=0,h;h=X[d];d++)h.handler.call(h.controller,e),h.controller.onunload=null;if(g)for(d=0;h=X[d];d++)h.controller.onunload=h.handler;else X=[];if(A[c]&&"function"===typeof A[c].onunload)A[c].onunload(e);if(!g)return b.redraw.strategy("all"),b.startComputation(),Y[c]=a,2<arguments.length&&(f=subcomponent(f,[].slice.call(arguments,
2))),e=ra=f=f||{controller:function(){}},d=new (f.controller||H),e===ra&&(A[c]=d,M[c]=f),la(),A[c]};var ha=!1;b.redraw=function(a){if(!ha){ha=!0;if(J&&!0!==a){if(U===f.requestAnimationFrame||16<new Date-oa)0<J&&ka(J),J=U(na,16)}else na(),J=U(function(){J=null},16);ha=!1}};b.redraw.strategy=b.prop();var I=0;b.startComputation=function(){I++};b.endComputation=function(){I=Math.max(I-1,0);0===I&&b.redraw()};var la=function(){"none"==b.redraw.strategy()?(I--,b.redraw.strategy("diff")):b.endComputation()};
b.withAttr=function(a,b){return function(c){c=c||event;c=c.currentTarget||this;b(a in c?c[a]:c.getAttribute(a))}};var N={pathname:"",hash:"#",search:"?"},ia=H,Q,B,ja=!1;b.route=function(){if(0===arguments.length)return B;if(3===arguments.length&&"[object String]"===y.call(arguments[1])){var a=arguments[0],g=arguments[1],c=arguments[2];ia=function(d){d=B=d.slice(N[b.route.mode].length);if(!xa(a,c,d)){if(ja)throw Error("Ensure the default route matches one of the routes defined in m.route");ja=!0;b.route(g,
!0);ja=!1}};var h="hash"===b.route.mode?"onhashchange":"onpopstate";f[h]=function(){var a=G[b.route.mode];"pathname"===b.route.mode&&(a+=G.search);B!=a.slice(N[b.route.mode].length)&&ia(a)};L=pa;f[h]()}else if(arguments[0].addEventListener||arguments[0].attachEvent)h=arguments[0],h.href=("pathname"!==b.route.mode?G.pathname:"")+N[b.route.mode]+arguments[3].attrs.href,h.addEventListener?(h.removeEventListener("click",aa),h.addEventListener("click",aa)):(h.detachEvent("onclick",aa),h.attachEvent("onclick",
aa));else if("[object String]"===y.call(arguments[0])){h=B;B=arguments[0];var e=arguments[1]||{},d=B.indexOf("?"),l=-1<d?Z(B.slice(d+1)):{},m;for(m in e)l[m]=e[m];e=R(l);d=-1<d?B.slice(0,d):B;e&&(B=d+(-1===d.indexOf("?")?"?":"&")+e);var p=!0===(3===arguments.length?arguments[2]:arguments[1])||h===arguments[0];f.history.pushState?(L=pa,P=function(){f.history[p?"replaceState":"pushState"](null,w.title,N[b.route.mode]+B)}):G[b.route.mode]=B;ia(N[b.route.mode]+B)}};b.route.param=function(a){if(!Q)throw Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");
return Q[a]};b.route.mode="search";b.route.buildQueryString=R;b.route.parseQueryString=Z;b.deferred=function(){var a=new fa;a.promise=ba(a.promise);return a};b.deferred.onerror=function(a){if("[object Error]"===y.call(a)&&!a.constructor.toString().match(/ Error/))throw a;};b.sync=function(a){function f(a,b){return function(f){d[a]=f;b||(c="reject");0===--e&&(g.promise(d),g[c](d));return f}}var c="resolve",g=b.deferred(),e=a.length,d=Array(e);if(0<a.length)for(var h=0;h<a.length;h++)a[h].then(f(h,
!0),f(h,!1));else g.resolve([]);return g.promise};b.request=function(a){!0!==a.background&&b.startComputation();var f=new fa,c=a.dataType&&"jsonp"===a.dataType.toLowerCase(),g=a.serialize=c?ga:a.serialize||JSON.stringify,e=a.deserialize=c?ga:a.deserialize||JSON.parse,d=c?function(a){return a.responseText}:a.extract||function(a){return 0===a.responseText.length&&e===JSON.parse?null:a.responseText};a.method=(a.method||"GET").toUpperCase();a.url=Aa(a.url,a.data);a=za(a,a.data,g);a.onload=a.onerror=function(c){try{c=
c||event;var g=(("load"===c.type?a.unwrapSuccess:a.unwrapError)||ga)(e(d(c.target,a)),c.target);if("load"===c.type)if("[object Array]"===y.call(g)&&a.type)for(var h=0;h<g.length;h++)g[h]=new a.type(g[h]);else a.type&&(g=new a.type(g));f["load"===c.type?"resolve":"reject"](g)}catch(l){b.deferred.onerror(l),f.reject(l)}!0!==a.background&&b.endComputation()};ya(a);f.promise=ba(f.promise,a.initialValue);return f.promise};b.deps=function(a){g(f=a||f);return f};b.deps.factory=l;return b}("undefined"!=typeof window?
window:{});"undefined"!=typeof m&&null!==m&&m.exports?m.exports=g:"function"===typeof define&&define.amd&&define(function(){return g})},{}]},{},[1]);
</script>
    {% endif %}
    {% if is_admin %}
      <css-placeholder token="{{ placeholder_token|raw }}">
      <js-placeholder token="{{ placeholder_token|raw }}">
      <js-bottom-placeholder token="{{ placeholder_token|raw }}">

    {% endif %}
    {% if ga_id %}

      <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', '{{ ga_id }}']);
      _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
      </script>
    {% endif %}

  </body>
</html>
